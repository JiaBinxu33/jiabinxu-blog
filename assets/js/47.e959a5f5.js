(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{369:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"usestate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usestate"}},[t._v("#")]),t._v(" useState")]),t._v(" "),s("p",[t._v("useState æ˜¯ä¸€ä¸ª React é’©å­ï¼Œå¯è®©ä½ å°† çŠ¶æ€å˜é‡ æ·»åŠ åˆ°ç»„ä»¶ä¸­ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"å‚è€ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),s("h3",{attrs:{id:"usestate-initialstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usestate-initialstate"}},[t._v("#")]),t._v(" useState(initialState)")]),t._v(" "),s("p",[t._v("useState(initialState)\nåœ¨ç»„ä»¶çš„é¡¶å±‚è°ƒç”¨ useState ä»¥å£°æ˜ çŠ¶æ€å˜é‡ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setAge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Taylor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setTodos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),s("p",[t._v("çº¦å®šæ˜¯ä½¿ç”¨ æ•°ç»„è§£æ„ å‘½åçŠ¶æ€å˜é‡ï¼Œä¾‹å¦‚ [something, setSomething]ã€‚")]),t._v(" "),s("h4",{attrs:{id:"å‚æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°"}},[t._v("#")]),t._v(" å‚æ•°")]),t._v(" "),s("p",[t._v("initialStateï¼šä½ å¸Œæœ›çŠ¶æ€çš„åˆå§‹å€¼ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ï¼Œä½†å‡½æ•°æœ‰ç‰¹æ®Šçš„è¡Œä¸ºã€‚è¿™ä¸ªå‚æ•°åœ¨åˆå§‹æ¸²æŸ“åè¢«å¿½ç•¥ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ å°†å‡½æ•°ä½œä¸º initialState ä¼ é€’ï¼Œå®ƒå°†è¢«è§†ä¸ºåˆå§‹åŒ–å‡½æ•°ã€‚å®ƒåº”è¯¥æ˜¯çº¯ç²¹çš„ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ï¼Œå¹¶ä¸”åº”è¯¥è¿”å›ä»»ä½•ç±»å‹çš„å€¼ã€‚React åœ¨åˆå§‹åŒ–ç»„ä»¶æ—¶ä¼šè°ƒç”¨ä½ çš„åˆå§‹åŒ–å‡½æ•°ï¼Œå¹¶å°†å…¶è¿”å›å€¼å­˜å‚¨ä¸ºåˆå§‹çŠ¶æ€ã€‚"),s("a",{attrs:{href:"#%E7%94%A8%E6%B3%95"}},[t._v("è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("åˆå§‹åŒ–å‚æ•°çš„ä¸¤ç§æ–¹å¼")]),t._v(" "),s("ul",[s("li",[t._v("æ™®é€šåˆå§‹åŒ– useState(value) æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œè¡¨è¾¾å¼ï¼Œä½†åªç”¨ç¬¬ä¸€æ¬¡çš„ç»“æœ åˆå§‹å€¼ç®€å•")]),t._v(" "),s("li",[t._v("æƒ°æ€§åˆå§‹åŒ– useState(() => value) åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œ åˆå§‹å€¼è®¡ç®—å¤æ‚")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ™®é€šåˆå§‹åŒ–")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setNums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œä¸€æ¬¡ new Array...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ°æ€§åˆå§‹åŒ–")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setNums"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæœ‰é¦–æ¬¡æ¸²æŸ“æ‰æ‰§è¡Œä¸€æ¬¡")]),t._v("\n")])])]),s("h4",{attrs:{id:"è¿”å›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿”å›"}},[t._v("#")]),t._v(" è¿”å›")]),t._v(" "),s("p",[t._v("Returns")]),t._v(" "),s("p",[t._v("useState è¿”å›ä¸€ä¸ªæ°å¥½åŒ…å«ä¸¤ä¸ªå€¼çš„æ•°ç»„ï¼š")]),t._v(" "),s("p",[t._v("å½“å‰çŠ¶æ€ã€‚åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æœŸé—´ï¼Œå®ƒå°†ä¸ä½ ä¼ é€’çš„ initialState ç›¸åŒ¹é…ã€‚")]),t._v(" "),s("p",[t._v("set å‡½æ•° å…è®¸ä½ å°†çŠ¶æ€æ›´æ–°ä¸ºä¸åŒçš„å€¼å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ã€‚")]),t._v(" "),s("h4",{attrs:{id:"æ³¨æ„äº‹é¡¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„äº‹é¡¹"}},[t._v("#")]),t._v(" æ³¨æ„äº‹é¡¹")]),t._v(" "),s("p",[t._v("useState æ˜¯ä¸€ä¸ª Hookï¼Œæ‰€ä»¥ä½ åªèƒ½åœ¨ä½ çš„ç»„ä»¶çš„é¡¶å±‚æˆ–è€…ä½ è‡ªå·±çš„é’©å­ä¸­è°ƒç”¨å®ƒã€‚ä½ ä¸èƒ½åœ¨å¾ªç¯æˆ–æ¡ä»¶å†…è°ƒç”¨å®ƒã€‚å¦‚æœéœ€è¦ï¼Œæå–ä¸€ä¸ªæ–°ç»„ä»¶å¹¶å°†çŠ¶æ€ç§»å…¥å…¶ä¸­ã€‚")]),t._v(" "),s("p",[t._v("åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒReact å°†è°ƒç”¨ä½ çš„åˆå§‹åŒ–å‡½æ•°ä¸¤æ¬¡ï¼Œä»¥ä¾¿ å¸®åŠ©ä½ å‘ç°æ„å¤–æ‚è´¨ è¿™æ˜¯ä»…å¼€å‘è¡Œä¸ºï¼Œä¸ä¼šå½±å“ç”Ÿäº§ã€‚å¦‚æœä½ çš„åˆå§‹åŒ–å‡½æ•°æ˜¯çº¯å‡½æ•°ï¼ˆå®ƒåº”è¯¥æ˜¯çº¯å‡½æ•°ï¼‰ï¼Œè¿™åº”è¯¥ä¸ä¼šå½±å“è¡Œä¸ºã€‚å…¶ä¸­ä¸€ä¸ªè°ƒç”¨çš„ç»“æœå°†è¢«å¿½ç•¥ã€‚")]),t._v(" "),s("h3",{attrs:{id:"set-å‡½æ•°ä¸-setsomething-nextstate-ç±»ä¼¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-å‡½æ•°ä¸-setsomething-nextstate-ç±»ä¼¼"}},[t._v("#")]),t._v(" set å‡½æ•°ä¸ setSomething(nextState)ç±»ä¼¼")]),t._v(" "),s("p",[t._v("useState è¿”å›çš„ set å‡½æ•°å…è®¸ä½ å°†çŠ¶æ€æ›´æ–°ä¸ºä¸åŒçš„å€¼å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ã€‚ä½ å¯ä»¥ç›´æ¥ä¼ é€’ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œæˆ–ä»å‰ä¸€ä¸ªçŠ¶æ€è®¡ç®—å®ƒçš„å‡½æ•°ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Edward'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Taylor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),s("h4",{attrs:{id:"å‚æ•°-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚æ•°-2"}},[t._v("#")]),t._v(" å‚æ•°")]),t._v(" "),s("p",[t._v("nextStateï¼šä½ å¸Œæœ›çŠ¶æ€æˆä¸ºçš„å€¼ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ï¼Œä½†å‡½æ•°æœ‰ç‰¹æ®Šçš„è¡Œä¸ºã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ å°†å‡½æ•°ä½œä¸º nextState ä¼ é€’ï¼Œå®ƒå°†è¢«è§†ä¸ºæ›´æ–°å‡½æ•°ã€‚å®ƒå¿…é¡»æ˜¯çº¯ç²¹çš„ï¼Œåº”è¯¥å°†æŒ‚èµ·çŠ¶æ€ä½œä¸ºå…¶å”¯ä¸€å‚æ•°ï¼Œå¹¶ä¸”åº”è¯¥è¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚React ä¼šå°†ä½ çš„æ›´æ–°ç¨‹åºå‡½æ•°æ”¾å…¥é˜Ÿåˆ—ä¸­å¹¶é‡æ–°æ¸²æŸ“ä½ çš„ç»„ä»¶ã€‚åœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æœŸé—´ï¼ŒReact å°†é€šè¿‡å°†æ‰€æœ‰æ’é˜Ÿçš„æ›´æ–°å™¨åº”ç”¨äºå‰ä¸€ä¸ªçŠ¶æ€æ¥è®¡ç®—ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚"),s("a",{attrs:{href:"#%E6%A0%B9%E6%8D%AE%E4%B9%8B%E5%89%8D%E7%9A%84%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E7%8A%B6%E6%80%81"}},[t._v("è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹")]),t._v("ã€‚")]),t._v(" "),s("h4",{attrs:{id:"è¿”å›-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿”å›-2"}},[t._v("#")]),t._v(" è¿”å›")]),t._v(" "),s("p",[t._v("set å‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚")]),t._v(" "),s("h4",{attrs:{id:"æ³¨æ„äº‹é¡¹-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„äº‹é¡¹-2"}},[t._v("#")]),t._v(" æ³¨æ„äº‹é¡¹")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("set å‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„çŠ¶æ€å˜é‡")]),t._v("ã€‚å¦‚æœä½ åœ¨è°ƒç”¨ set å‡½æ•°åè¯»å–çŠ¶æ€å˜é‡ï¼Œåˆ™ "),s("strong",[t._v("ä½ ä»ç„¶ä¼šå¾—åˆ°æ—§çš„å€¼")]),t._v(" åœ¨ä½ è°ƒç”¨ä¹‹å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœä½ æä¾›çš„æ–°å€¼ä¸å½“å‰çš„ state ç›¸åŒï¼ˆé€šè¿‡ Object.is æ¯”è¾ƒç¡®å®šï¼‰ï¼ŒReact å°†è·³è¿‡é‡æ–°æ¸²æŸ“ç»„ä»¶åŠå…¶å­ç»„ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–ã€‚å°½ç®¡åœ¨æŸäº›æƒ…å†µä¸‹ React å¯èƒ½ä»éœ€è¦åœ¨è·³è¿‡å­çº§ä¹‹å‰è°ƒç”¨ä½ çš„ç»„ä»¶ï¼Œä½†è¿™ä¸åº”è¯¥å½±å“ä½ çš„ä»£ç ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("React æ‰¹é‡çŠ¶æ€æ›´æ–°ã€‚ åœ¨æ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åºè¿è¡Œå¹¶è°ƒç”¨å…¶ set å‡½æ•°åæ›´æ–°å±å¹•ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨å•ä¸ªäº‹ä»¶æœŸé—´å¤šæ¬¡é‡æ–°æ¸²æŸ“ã€‚åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œä½ éœ€è¦å¼ºåˆ¶ React æå‰æ›´æ–°å±å¹•ï¼Œä¾‹å¦‚è®¿é—® DOMï¼Œä½ å¯ä»¥ä½¿ç”¨ flushSyncã€‚")])]),t._v(" "),s("li",[s("p",[t._v("set å‡½æ•°å…·æœ‰ç¨³å®šçš„æ ‡è¯†ï¼Œå› æ­¤ä½ ç»å¸¸ä¼šçœ‹åˆ°å®ƒä»å‰¯ä½œç”¨ä¾èµ–ä¸­çœç•¥ï¼Œä½†åŒ…å«å®ƒä¸ä¼šå¯¼è‡´å‰¯ä½œç”¨è§¦å‘ã€‚å¦‚æœ linter å…è®¸ä½ åœ¨æ²¡æœ‰é”™è¯¯çš„æƒ…å†µä¸‹çœç•¥ä¾èµ–ï¼Œé‚£ä¹ˆè¿™æ ·åšæ˜¯å®‰å…¨çš„ã€‚è¯¦ç»†äº†è§£å¦‚ä½•åˆ é™¤å‰¯ä½œç”¨ä¾èµ–ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨æ¸²æŸ“æœŸé—´è°ƒç”¨ set å‡½æ•°åªèƒ½ä»å½“å‰æ¸²æŸ“ç»„ä»¶ä¸­è°ƒç”¨ã€‚React å°†ä¸¢å¼ƒå…¶è¾“å‡ºå¹¶ç«‹å³å°è¯•ä½¿ç”¨æ–°çŠ¶æ€å†æ¬¡æ¸²æŸ“å®ƒã€‚è¿™ç§æ¨¡å¼å¾ˆå°‘éœ€è¦ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥å­˜å‚¨å…ˆå‰æ¸²æŸ“çš„ä¿¡æ¯ã€‚"),s("a",{attrs:{href:"#%E5%AD%98%E5%82%A8%E4%BB%A5%E5%89%8D%E6%B8%B2%E6%9F%93%E7%9A%84%E4%BF%A1%E6%81%AF"}},[t._v("è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹")]),t._v("ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒReact å°†è°ƒç”¨ä½ çš„æ›´æ–°ç¨‹åºå‡½æ•°ä¸¤æ¬¡ï¼Œä»¥ä¾¿ å¸®åŠ©ä½ å‘ç°æ„å¤–æ‚è´¨ è¿™æ˜¯ä»…å¼€å‘è¡Œä¸ºï¼Œä¸ä¼šå½±å“ç”Ÿäº§ã€‚å¦‚æœä½ çš„æ›´æ–°ç¨‹åºå‡½æ•°æ˜¯çº¯å‡½æ•°ï¼ˆå®ƒåº”è¯¥æ˜¯çº¯å‡½æ•°ï¼‰ï¼Œè¿™åº”è¯¥ä¸ä¼šå½±å“è¡Œä¸ºã€‚å…¶ä¸­ä¸€ä¸ªè°ƒç”¨çš„ç»“æœå°†è¢«å¿½ç•¥ã€‚")])])]),t._v(" "),s("h2",{attrs:{id:"ç”¨æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æ³•"}},[t._v("#")]),t._v(" ç”¨æ³•")]),t._v(" "),s("h3",{attrs:{id:"å‘ç»„ä»¶æ·»åŠ çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‘ç»„ä»¶æ·»åŠ çŠ¶æ€"}},[t._v("#")]),t._v(" å‘ç»„ä»¶æ·»åŠ çŠ¶æ€")]),t._v(" "),s("p",[t._v("åœ¨ç»„ä»¶çš„é¡¶å±‚è°ƒç”¨ useState ä»¥å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ª çŠ¶æ€å˜é‡ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setAge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Taylor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),s("p",[t._v("çº¦å®šæ˜¯ä½¿ç”¨ æ•°ç»„è§£æ„ å‘½åçŠ¶æ€å˜é‡ï¼Œä¾‹å¦‚ [something, setSomething]ã€‚")]),t._v(" "),s("p",[t._v("useState è¿”å›ä¸€ä¸ªæ°å¥½åŒ…å«ä¸¤é¡¹çš„æ•°ç»„ï¼š")]),t._v(" "),s("p",[t._v("æ­¤çŠ¶æ€å˜é‡çš„å½“å‰çŠ¶æ€ï¼Œåˆå§‹è®¾ç½®ä¸ºä½ æä¾›çš„åˆå§‹çŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("set å‡½æ•° å…è®¸ä½ å°†å…¶æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å€¼ä»¥å“åº”äº¤äº’ã€‚")]),t._v(" "),s("p",[t._v("è¦æ›´æ–°å±å¹•ä¸Šçš„å†…å®¹ï¼Œè¯·ä½¿ç”¨ä¸‹ä¸€ä¸ªçŠ¶æ€è°ƒç”¨ set å‡½æ•°ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Robin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("React å°†å­˜å‚¨ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œä½¿ç”¨æ–°å€¼å†æ¬¡æ¸²æŸ“ä½ çš„ç»„ä»¶ï¼Œå¹¶æ›´æ–° UIã€‚")]),t._v(" "),s("h4",{attrs:{id:"æ˜“çŠ¯é”™è¯¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ˜“çŠ¯é”™è¯¯"}},[t._v("#")]),t._v(" æ˜“çŠ¯é”™è¯¯")]),t._v(" "),s("p",[t._v("è°ƒç”¨ set å‡½æ•° ä¸ä¼šæ”¹å˜å·²ç»æ‰§è¡Œçš„ä»£ç ä¸­çš„å½“å‰çŠ¶æ€ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Robin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Still "Taylor"!')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å®ƒåªå½±å“ useState ä»ä¸‹ä¸€æ¬¡æ¸²æŸ“å¼€å§‹è¿”å›çš„å†…å®¹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ ¹æ®ä¹‹å‰çš„çŠ¶æ€æ›´æ–°çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¹æ®ä¹‹å‰çš„çŠ¶æ€æ›´æ–°çŠ¶æ€"}},[t._v("#")]),t._v(" æ ¹æ®ä¹‹å‰çš„çŠ¶æ€æ›´æ–°çŠ¶æ€")]),t._v(" "),s("p",[t._v("å‡è®¾ age æ˜¯ 42ã€‚æ­¤å¤„ç†ç¨‹åºè°ƒç”¨ setAge(age + 1) ä¸‰æ¬¡ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(42 + 1)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(42 + 1)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(42 + 1)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä½†æ˜¯ï¼Œç‚¹å‡»ä¹‹åï¼Œage åªä¼šå˜æˆ 43ï¼Œè€Œä¸æ˜¯ 45ï¼è¿™æ˜¯å› ä¸ºåœ¨å·²ç»è¿è¡Œçš„ä»£ç ä¸­è°ƒç”¨ set å‡½æ•° ä¸ä¼šæ›´æ–° age çŠ¶æ€å˜é‡ã€‚æ‰€ä»¥æ¯æ¬¡ setAge(age + 1) è°ƒç”¨éƒ½å˜æˆ setAge(43)ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å°†æ›´æ–°å‡½æ•°ä¼ é€’ç»™ setAge è€Œä¸æ˜¯ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(42 => 43)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(43 => 44)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setAge(44 => 45)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œï¼Œa => a + 1 æ˜¯ä½ çš„æ›´æ–°å‡½æ•°ã€‚å®ƒé‡‡ç”¨ æŒ‚èµ·çŠ¶æ€ å¹¶ä»ä¸­è®¡ç®—å‡º ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("React å°†ä½ çš„æ›´æ–°å‡½æ•°æ”¾åˆ° é˜Ÿåˆ— ä¸­ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æœŸé—´ï¼Œå®ƒå°†ä»¥ç›¸åŒçš„é¡ºåºè°ƒç”¨å®ƒä»¬ï¼š")]),t._v(" "),s("p",[t._v("a => a + 1 å°†æ¥æ”¶ 42 ä½œä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œå¹¶è¿”å› 43 ä½œä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("a => a + 1 å°†æ¥æ”¶ 43 ä½œä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œå¹¶è¿”å› 44 ä½œä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("a => a + 1 å°†æ¥æ”¶ 44 ä½œä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œå¹¶è¿”å› 45 ä½œä¸ºä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("æ²¡æœ‰å…¶ä»–æ’é˜Ÿçš„æ›´æ–°ï¼Œæ‰€ä»¥ React æœ€åä¼šå°† 45 å­˜å‚¨ä¸ºå½“å‰çŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("æŒ‰ç…§æƒ¯ä¾‹ï¼Œé€šå¸¸å°†çŠ¶æ€å˜é‡åç§°çš„ç¬¬ä¸€ä¸ªå­—æ¯å‘½åä¸ºæŒ‚èµ·çŠ¶æ€å‚æ•°ï¼Œä¾‹å¦‚ a ä»£è¡¨ ageã€‚ä½†æ˜¯ï¼Œä½ ä¹Ÿå¯ä»¥å°†å…¶ç§°ä¸º prevAge æˆ–ä½ è®¤ä¸ºæ›´æ¸…æ¥šçš„å…¶ä»–åç§°ã€‚")]),t._v(" "),s("p",[t._v("React å¯èƒ½åœ¨å¼€å‘ä¸­ "),s("a",{attrs:{href:"#%E6%88%91%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E6%88%96%E6%9B%B4%E6%96%B0%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E4%B8%A4%E6%AC%A1"}},[t._v("ä¸¤æ¬¡è°ƒç”¨ä½ çš„æ›´æ–°å™¨")]),t._v(" ä»¥éªŒè¯å®ƒä»¬æ˜¯ çº¯ç²¹çš„ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„"}},[t._v("#")]),t._v(" æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥å°†å¯¹è±¡å’Œæ•°ç»„æ”¾å…¥çŠ¶æ€ã€‚åœ¨ React ä¸­ï¼ŒçŠ¶æ€è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤ä½ åº”è¯¥æ›¿æ¢å®ƒè€Œä¸æ˜¯æ”¹å˜ç°æœ‰çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªçŠ¶æ€ä¸º form çš„å¯¹è±¡ï¼Œä¸è¦æ”¹å˜å®ƒï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸš© Don't mutate an object in state like this:")]),t._v("\nform"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Taylor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è€Œæ˜¯ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ… Replace state with a new object")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setForm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("form"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Taylor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"ä½¿ç”¨é”®æ¥é‡ç½®çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨é”®æ¥é‡ç½®çŠ¶æ€"}},[t._v("#")]),t._v(" ä½¿ç”¨é”®æ¥é‡ç½®çŠ¶æ€")]),t._v(" "),s("p",[t._v("å½“ æ¸²æŸ“åˆ—è¡¨ æ—¶ï¼Œä½ ä¼šç»å¸¸é‡åˆ° key å±æ€§ã€‚ä½†æ˜¯ï¼Œå®ƒè¿˜æœ‰å¦ä¸€ä¸ªç”¨é€”ã€‚")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥é€šè¿‡å°†ä¸åŒçš„ key ä¼ é€’ç»™ç»„ä»¶æ¥é‡ç½®ç»„ä»¶çš„çŠ¶æ€ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œâ€œé‡ç½®â€æŒ‰é’®æ›´æ”¹ version çŠ¶æ€å˜é‡ï¼Œæˆ‘ä»¬å°†å…¶ä½œä¸º key ä¼ é€’ç»™ Formã€‚å½“ key æ”¹å˜æ—¶ï¼ŒReact ä»å¤´å¼€å§‹é‡æ–°åˆ›å»º Form ç»„ä»¶ï¼ˆåŠå…¶æ‰€æœ‰å­çº§ï¼‰ï¼Œå› æ­¤å®ƒçš„çŠ¶æ€è¢«é‡ç½®ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setVersion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleReset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("version "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("handleReset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Reset")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Form")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Taylor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Hello, ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"å­˜å‚¨ä»¥å‰æ¸²æŸ“çš„ä¿¡æ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨ä»¥å‰æ¸²æŸ“çš„ä¿¡æ¯"}},[t._v("#")]),t._v(" å­˜å‚¨ä»¥å‰æ¸²æŸ“çš„ä¿¡æ¯")]),t._v(" "),s("p",[t._v("é€šå¸¸ï¼Œä½ å°†åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­æ›´æ–°çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œåœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›æ ¹æ®æ¸²æŸ“è°ƒæ•´çŠ¶æ€ - ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨å±æ€§æ›´æ”¹æ—¶æ›´æ”¹çŠ¶æ€å˜é‡ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦è¿™æ ·ï¼š")]),t._v(" "),s("p",[t._v("å¦‚æœä½ éœ€è¦çš„å€¼å¯ä»¥å®Œå…¨æ ¹æ®å½“å‰çš„å±æ€§æˆ–å…¶ä»–çŠ¶æ€è®¡ç®—å‡ºæ¥ï¼Œé‚£ä¹ˆ å®Œå…¨åˆ é™¤è¯¥å†—ä½™çŠ¶æ€ã€‚ å¦‚æœä½ æ‹…å¿ƒé‡æ–°è®¡ç®—è¿‡äºé¢‘ç¹ï¼Œé‚£ä¹ˆ useMemo é’©å­ å¯ä»¥æä¾›å¸®åŠ©ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ æƒ³é‡ç½®æ•´ä¸ªç»„ä»¶æ ‘çš„çŠ¶æ€ï¼Œå°†ä¸åŒçš„ key ä¼ é€’ç»™ä½ çš„ç»„ä»¶ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœå¯ä»¥ï¼Œè¯·æ›´æ–°äº‹ä»¶å¤„ç†ç¨‹åºä¸­çš„æ‰€æœ‰ç›¸å…³çŠ¶æ€ã€‚")]),t._v(" "),s("p",[t._v("åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œè¿™äº›éƒ½ä¸é€‚ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ç§æ¨¡å¼æ ¹æ®ç›®å‰å·²æ¸²æŸ“çš„å€¼æ›´æ–°çŠ¶æ€ï¼Œæ–¹æ³•æ˜¯åœ¨ç»„ä»¶æ¸²æŸ“æ—¶è°ƒç”¨ set å‡½æ•°ã€‚")]),t._v(" "),s("p",[t._v("è¿™æ˜¯ä¸€ä¸ªä¾‹å­ã€‚è¿™ä¸ª CountLabel ç»„ä»¶æ˜¾ç¤ºä¼ é€’ç»™å®ƒçš„ count å±æ€§ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CountLabel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœä½ è¿™æ ·ä½¿ç”¨é‚£ä¹ˆå°†ä¼šé€ æˆé¡µé¢æ— é™æ¸²æŸ“")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("InfiniteLoopComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é”™è¯¯ï¼šæ— æ¡ä»¶è°ƒç”¨setState")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè§¦å‘çŠ¶æ€æ›´æ–°")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Count: ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ç»„ä»¶é¦–æ¬¡æ¸²æŸ“ï¼Œcount åˆå§‹åŒ–ä¸º 0")]),t._v(" "),s("p",[t._v("æ‰§è¡Œ setCount(0 + 1)ï¼Œè®¡åˆ’å°† count æ›´æ–°ä¸º 1")]),t._v(" "),s("p",[t._v("React é‡æ–°æ¸²æŸ“ç»„ä»¶")]),t._v(" "),s("p",[t._v("å†æ¬¡æ‰§è¡Œ setCount(1 + 1)ï¼Œè®¡åˆ’å°† count æ›´æ–°ä¸º 2")]),t._v(" "),s("p",[t._v("è¿™ä¸ªè¿‡ç¨‹ä¼šæ— é™ç»§ç»­ä¸‹å»")]),t._v(" "),s("h2",{attrs:{id:"æ•…éšœæ’é™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœæ’é™¤"}},[t._v("#")]),t._v(" æ•…éšœæ’é™¤")]),t._v(" "),s("h3",{attrs:{id:"æˆ‘æ›´æ–°äº†çŠ¶æ€-ä½†æ—¥å¿—è®°å½•ç»™äº†æˆ‘æ—§å€¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘æ›´æ–°äº†çŠ¶æ€-ä½†æ—¥å¿—è®°å½•ç»™äº†æˆ‘æ—§å€¼"}},[t._v("#")]),t._v(" æˆ‘æ›´æ–°äº†çŠ¶æ€ï¼Œä½†æ—¥å¿—è®°å½•ç»™äº†æˆ‘æ—§å€¼")]),t._v(" "),s("p",[t._v("è°ƒç”¨ set å‡½æ•°ä¸ä¼šæ›´æ”¹è¿è¡Œä»£ç ä¸­çš„çŠ¶æ€ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Request a re-render with 1")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Still 0!")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Also 0!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™æ˜¯å› ä¸º çŠ¶æ€çš„è¡Œä¸ºç±»ä¼¼äºå¿«ç…§ã€‚ æ›´æ–°çŠ¶æ€è¯·æ±‚å¦ä¸€ä¸ªå…·æœ‰æ–°çŠ¶æ€å€¼çš„æ¸²æŸ“ï¼Œä½†ä¸ä¼šå½±å“ä½ å·²ç»è¿è¡Œçš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­çš„ count JavaScript å˜é‡ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœéœ€è¦ä½¿ç”¨ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œå¯ä»¥å°†å…¶ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œç„¶åå†ä¼ é€’ç»™ set å‡½æ•°ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" nextCount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n")])])]),s("h3",{attrs:{id:"æˆ‘å·²ç»æ›´æ–°äº†çŠ¶æ€-ä½†æ˜¯å±å¹•æ²¡æœ‰æ›´æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘å·²ç»æ›´æ–°äº†çŠ¶æ€-ä½†æ˜¯å±å¹•æ²¡æœ‰æ›´æ–°"}},[t._v("#")]),t._v(" æˆ‘å·²ç»æ›´æ–°äº†çŠ¶æ€ï¼Œä½†æ˜¯å±å¹•æ²¡æœ‰æ›´æ–°")]),t._v(" "),s("p",[t._v("å¦‚æœä¸‹ä¸€ä¸ªçŠ¶æ€ç­‰äºå‰ä¸€ä¸ªçŠ¶æ€ï¼ˆç”± Object.is æ¯”è¾ƒç¡®å®šï¼‰ï¼ŒReact å°†å¿½ç•¥ä½ çš„æ›´æ–°ã€‚å½“ä½ ç›´æ¥æ›´æ”¹çŠ¶æ€ä¸­çš„å¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œé€šå¸¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸš© Wrong: mutating existing object")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setObj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸš© Doesn't do anything")]),t._v("\n")])])]),s("p",[t._v("ä½ æ”¹å˜äº†ä¸€ä¸ªç°æœ‰çš„ obj å¯¹è±¡å¹¶å°†å®ƒä¼ é€’å› setObjï¼Œæ‰€ä»¥ React å¿½ç•¥äº†æ›´æ–°ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œä½ éœ€è¦ç¡®ä¿ä½ å§‹ç»ˆæ˜¯ æ›¿æ¢çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„è€Œä¸æ˜¯æ”¹å˜å®ƒä»¬ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ… Correct: creating a new object")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setObj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("x")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"æˆ‘æ”¶åˆ°é”™è¯¯-å¤ªå¤šçš„é‡æ–°æ¸²æŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘æ”¶åˆ°é”™è¯¯-å¤ªå¤šçš„é‡æ–°æ¸²æŸ“"}},[t._v("#")]),t._v(" æˆ‘æ”¶åˆ°é”™è¯¯ï¼šâ€œå¤ªå¤šçš„é‡æ–°æ¸²æŸ“â€")]),t._v(" "),s("p",[t._v("ä½ å¯èƒ½ä¼šæ”¶åˆ°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼šToo many re-renders. React limits the number of renders to prevent an infinite loop. é€šå¸¸ï¼Œè¿™æ„å‘³ç€ä½ åœ¨æ¸²æŸ“æœŸé—´æ— æ¡ä»¶è®¾ç½®çŠ¶æ€ï¼Œå› æ­¤ä½ çš„ç»„ä»¶è¿›å…¥å¾ªç¯ï¼šæ¸²æŸ“ã€è®¾ç½®çŠ¶æ€ï¼ˆå¯¼è‡´æ¸²æŸ“ï¼‰ã€æ¸²æŸ“ã€è®¾ç½®çŠ¶æ€ï¼ˆå¯¼è‡´æ¸²æŸ“ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚é€šå¸¸ï¼Œè¿™æ˜¯ç”±äºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„é”™è¯¯é€ æˆçš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸš© Wrong: calls the handler during render")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Click me")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ… Correct: passes down the event handler")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("handleClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Click me")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ… Correct: passes down an inline function")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Click me")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å¦‚æœæ‰¾ä¸åˆ°æ­¤é”™è¯¯çš„åŸå› ï¼Œè¯·å•å‡»æ§åˆ¶å°ä¸­é”™è¯¯æ—è¾¹çš„ç®­å¤´å¹¶æŸ¥çœ‹ JavaScript å †æ ˆä»¥æŸ¥æ‰¾å¯¼è‡´é”™è¯¯çš„ç‰¹å®š set å‡½æ•°è°ƒç”¨ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æˆ‘çš„åˆå§‹åŒ–æˆ–æ›´æ–°å‡½æ•°è¿è¡Œä¸¤æ¬¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„åˆå§‹åŒ–æˆ–æ›´æ–°å‡½æ•°è¿è¡Œä¸¤æ¬¡"}},[t._v("#")]),t._v(" æˆ‘çš„åˆå§‹åŒ–æˆ–æ›´æ–°å‡½æ•°è¿è¡Œä¸¤æ¬¡")]),t._v(" "),s("p",[t._v("åœ¨ ä¸¥æ ¼æ¨¡å¼ ä¸­ï¼ŒReact å°†è°ƒç”¨ä½ çš„ä¸€äº›å‡½æ•°ä¸¤æ¬¡è€Œä¸æ˜¯ä¸€æ¬¡ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TodoList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This component function will run twice for every render.")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setTodos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This initializer function will run twice during initialization.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevTodos")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This updater function will run twice for every click.")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prevTodos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTodo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),s("p",[t._v("è¿™æ˜¯é¢„æœŸçš„ï¼Œä¸åº”ç ´åä½ çš„ä»£ç ã€‚")]),t._v(" "),s("p",[t._v("è¿™ç§ä»…ç”¨äºå¼€å‘çš„è¡Œä¸ºå¯ä»¥å¸®åŠ©ä½  ä¿æŒç»„ä»¶çº¯ç²¹ã€‚ React ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªè°ƒç”¨çš„ç»“æœï¼Œå¹¶å¿½ç•¥å¦ä¸€ä¸ªè°ƒç”¨çš„ç»“æœã€‚åªè¦ä½ çš„ç»„ä»¶ã€åˆå§‹åŒ–å™¨å’Œæ›´æ–°å™¨å‡½æ•°æ˜¯çº¯å‡½æ•°ï¼Œè¿™å°±ä¸ä¼šå½±å“ä½ çš„é€»è¾‘ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬ä¸å°å¿ƒä¸çº¯ï¼Œè¿™æœ‰åŠ©äºä½ å‘ç°é”™è¯¯ã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼Œè¿™ä¸ªä¸çº¯çš„æ›´æ–°å‡½æ•°æ”¹å˜äº†çŠ¶æ€æ•°ç»„ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸš© Mistake: mutating state")]),t._v("\n  prevTodos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTodo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("å› ä¸º React ä¸¤æ¬¡è°ƒç”¨ä½ çš„æ›´æ–°å‡½æ•°ï¼Œä½ ä¼šçœ‹åˆ° todo è¢«æ·»åŠ äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥ä½ ä¼šçŸ¥é“æœ‰ä¸€ä¸ªé”™è¯¯ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ æ›¿æ¢æ•°ç»„è€Œä¸æ˜¯æ”¹å˜å®ƒ æ¥ä¿®å¤é”™è¯¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevTodos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ… Correct: replacing with new state")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("prevTodos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTodo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("æ—¢ç„¶è¿™ä¸ªæ›´æ–°å‡½æ•°æ˜¯çº¯ç²¹çš„ï¼Œé¢å¤–è°ƒç”¨å®ƒä¸ä¼šå¯¹è¡Œä¸ºäº§ç”Ÿå½±å“ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ React è°ƒç”¨å®ƒä¸¤æ¬¡å¯ä»¥å¸®åŠ©ä½ å‘ç°é”™è¯¯ã€‚åªæœ‰ç»„ä»¶ã€åˆå§‹åŒ–å™¨å’Œæ›´æ–°å™¨å‡½æ•°éœ€è¦æ˜¯çº¯å‡½æ•°ã€‚äº‹ä»¶å¤„ç†ç¨‹åºä¸éœ€è¦æ˜¯çº¯ç²¹çš„ï¼Œå› æ­¤ React æ°¸è¿œä¸ä¼šè°ƒç”¨ä½ çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸¤æ¬¡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æˆ‘æ­£åœ¨å°è¯•å°†çŠ¶æ€è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°-ä½†å®ƒè¢«è°ƒç”¨äº†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘æ­£åœ¨å°è¯•å°†çŠ¶æ€è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°-ä½†å®ƒè¢«è°ƒç”¨äº†"}},[t._v("#")]),t._v(" æˆ‘æ­£åœ¨å°è¯•å°†çŠ¶æ€è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œä½†å®ƒè¢«è°ƒç”¨äº†")]),t._v(" "),s("p",[t._v("ä½ ä¸èƒ½åƒè¿™æ ·å°†å‡½æ•°ç½®äºçŠ¶æ€ï¼š")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setFn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("someFunction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("someOtherFunction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("å› ä¸ºä½ æ­£åœ¨ä¼ é€’ä¸€ä¸ªå‡½æ•°ï¼ŒReact å‡å®š someFunction æ˜¯ä¸€ä¸ª åˆå§‹åŒ–å‡½æ•°ï¼Œè€Œ someOtherFunction æ˜¯ä¸€ä¸ª æ›´æ–°å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¼šå°è¯•è°ƒç”¨å®ƒä»¬å¹¶å­˜å‚¨ç»“æœã€‚è¦å®é™…å­˜å‚¨ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹éƒ½å¿…é¡»å°† () => æ”¾åœ¨å®ƒä»¬ä¹‹å‰ã€‚ç„¶å React å°†å­˜å‚¨ä½ ä¼ é€’çš„å‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setFn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" someFunction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleClick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" someOtherFunction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„"}},[t._v("#")]),t._v(" setState æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨åˆæˆäº‹ä»¶é‡Œé¢æ˜¯å¼‚æ­¥çš„")]),t._v(" "),s("li",[t._v("åœ¨ç”Ÿå‘½å‘¨æœŸé‡Œé¢æ˜¯å¼‚æ­¥çš„")]),t._v(" "),s("li",[t._v("åœ¨å®šæ—¶å™¨é‡Œé¢æ˜¯åŒæ­¥çš„")]),t._v(" "),s("li",[t._v("åœ¨åŸç”Ÿ js äº‹ä»¶é‡Œé¢æ˜¯åŒæ­¥çš„")])]),t._v(" "),s("h2",{attrs:{id:"æºç ç†è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æºç ç†è§£"}},[t._v("#")]),t._v(" æºç ç†è§£")]),t._v(" "),s("p",[t._v("é¦–å…ˆè¦ç†è§£ useStateï¼Œæˆ‘ä»¬è¦è§£å†³ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š"),s("strong",[t._v("å‡½æ•°ç»„ä»¶æœ¬èº«æ˜¯æ— çŠ¶æ€çš„")]),t._v("ï¼Œå®ƒæ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯ä¸€æ¬¡æ–°çš„å‡½æ•°è°ƒç”¨ï¼Œæ‰§è¡Œå®Œåæ‰€æœ‰å±€éƒ¨å˜é‡éƒ½ä¼šä¸¢å¤±ã€‚é‚£ä¹ˆï¼ŒReact æ˜¯å¦‚ä½•åœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´â€œè®°ä½â€è¿™ä¸ª state çš„å‘¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("React çš„ç§˜è¯€åœ¨äºï¼Œå®ƒåœ¨"),s("strong",[t._v("ç»„ä»¶å‡½æ•°ä¹‹å¤–")]),t._v("ï¼Œä¸ºæ¯ä¸ªç»„ä»¶å®ä¾‹ç»´æŠ¤äº†ä¸€ä¸ª"),s("strong",[t._v("å†…éƒ¨æ•°æ®ç»“æ„")]),t._v("ï¼Œè¿™ä¸ªç»“æ„åœ¨ç°ä»£ React ä¸­å°±æ˜¯ "),s("strong",[t._v("Fiber èŠ‚ç‚¹")]),t._v("ã€‚è¿™ä¸ª Fiber èŠ‚ç‚¹æ˜¯ç»„ä»¶çš„â€œèº«ä»½è¯â€ï¼Œå®ƒåœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´æ˜¯æŒä¹…å­˜åœ¨çš„ã€‚")]),t._v(" "),s("p",[s("code",[t._v("useState")]),t._v(" çš„å†…éƒ¨å®ç°å°±å®Œå…¨ä¾èµ–äºè¿™ä¸ª Fiber èŠ‚ç‚¹ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("æ•°æ®ç»“æ„")]),t._v("ï¼šåœ¨æ¯ä¸ªç»„ä»¶çš„ Fiber èŠ‚ç‚¹ä¸Šï¼ŒReact ç»´æŠ¤äº†ä¸€ä¸ª"),s("strong",[t._v("é“¾è¡¨")]),t._v("ï¼Œè¿™ä¸ªé“¾è¡¨ä¸“é—¨ç”¨æ¥"),s("strong",[t._v("å­˜å‚¨æ‰€æœ‰çš„ Hooks")]),t._v("ï¼ˆåŒ…æ‹¬ "),s("code",[t._v("useState")]),t._v(", "),s("code",[t._v("useEffect")]),t._v(" ç­‰ï¼‰ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("é¦–æ¬¡æ¸²æŸ“")]),t._v("ï¼šå½“ç»„ä»¶"),s("strong",[t._v("ç¬¬ä¸€æ¬¡æ¸²æŸ“")]),t._v("æ—¶ï¼Œä½ æ¯è°ƒç”¨ä¸€æ¬¡ "),s("code",[t._v("useState")]),t._v("ï¼ŒReact å°±ä¼šåœ¨è¿™ä¸ªé“¾è¡¨ä¸Š"),s("strong",[t._v("åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼ˆHook èŠ‚ç‚¹ï¼‰")]),t._v("ã€‚è¿™ä¸ªèŠ‚ç‚¹é‡Œä¼šä¿å­˜"),s("strong",[t._v("å½“å‰çš„çŠ¶æ€å€¼")]),t._v("ï¼ˆ"),s("code",[t._v("state")]),t._v("ï¼‰å’Œä¸€ä¸ª"),s("strong",[t._v("æ›´æ–°é˜Ÿåˆ—")]),t._v("ï¼ˆ"),s("code",[t._v("queue")]),t._v("ï¼‰ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("åç»­æ¸²æŸ“")]),t._v("ï¼šå½“ç»„ä»¶å› ä¸ºçŠ¶æ€å˜æ›´"),s("strong",[t._v("é‡æ–°æ¸²æŸ“")]),t._v("æ—¶ï¼Œç¥å¥‡çš„åœ°æ–¹å°±æ¥äº†ã€‚å½“ "),s("code",[t._v("useState")]),t._v(" å†æ¬¡è¢«è°ƒç”¨æ—¶ï¼ŒReact "),s("strong",[t._v("ä¸ä¼š")]),t._v("åˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¼šå»"),s("strong",[t._v("æŒ‰é¡ºåºéå†")]),t._v("é‚£ä¸ªå·²ç»å­˜åœ¨çš„ Hook é“¾è¡¨ã€‚\n"),s("ul",[s("li",[t._v("ä½ è°ƒç”¨çš„"),s("strong",[t._v("ç¬¬ä¸€ä¸ª")]),t._v(" "),s("code",[t._v("useState")]),t._v("ï¼ŒReact å°±å–å‡ºé“¾è¡¨ä¸Šçš„"),s("strong",[t._v("ç¬¬ä¸€ä¸ª")]),t._v("èŠ‚ç‚¹ï¼ŒæŠŠé‡Œé¢çš„çŠ¶æ€å€¼è¿”å›ç»™ä½ ã€‚")]),t._v(" "),s("li",[t._v("ä½ è°ƒç”¨çš„"),s("strong",[t._v("ç¬¬äºŒä¸ª")]),t._v(" "),s("code",[t._v("useState")]),t._v("ï¼ŒReact å°±å–å‡ºé“¾è¡¨ä¸Šçš„"),s("strong",[t._v("ç¬¬äºŒä¸ª")]),t._v("èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚")])])]),t._v(" "),s("li",[s("strong",[t._v("â€œHooks è§„åˆ™â€çš„åŸå› ")]),t._v("ï¼šè¿™ä¹Ÿå®Œç¾è§£é‡Šäº†"),s("strong",[t._v("ä¸ºä»€ä¹ˆ Hooks å¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨")]),t._v("ï¼Œä¸èƒ½æ”¾åœ¨ "),s("code",[t._v("if")]),t._v(" æˆ–å¾ªç¯é‡Œã€‚å› ä¸º React å®Œå…¨ä¾èµ–è¿™ä¸ª**â€œç¨³å®šä¸å˜çš„è°ƒç”¨é¡ºåºâ€**æ¥ç¡®ä¿æ¯æ¬¡éƒ½èƒ½ä»é“¾è¡¨ä¸Šæ‹¿åˆ°æ­£ç¡®çš„çŠ¶æ€ã€‚å¦‚æœè°ƒç”¨é¡ºåºå˜äº†ï¼ŒReact åœ¨éå†é“¾è¡¨æ—¶å°±ä¼šâ€œå¼ å† ææˆ´â€ï¼Œå¯¼è‡´çŠ¶æ€å½»åº•é”™ä¹±ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("setState çš„å·¥ä½œ")]),t._v("ï¼šæœ€åï¼Œ"),s("code",[t._v("useState")]),t._v(" è¿”å›çš„é‚£ä¸ª "),s("code",[t._v("setter")]),t._v(" å‡½æ•°ï¼ˆæ¯”å¦‚ "),s("code",[t._v("setCount")]),t._v("ï¼‰è¢«è°ƒç”¨æ—¶ï¼Œå®ƒ"),s("strong",[t._v("å¹¶ä¸ä¼šç«‹å³ä¿®æ”¹çŠ¶æ€")]),t._v("ã€‚å®ƒåšçš„æ˜¯ä¸¤ä»¶äº‹ï¼š\n"),s("ul",[s("li",[t._v("æ‰¾åˆ°å®ƒè‡ªå·±å¯¹åº”çš„é‚£ä¸ª Hook èŠ‚ç‚¹ã€‚")]),t._v(" "),s("li",[t._v("æŠŠè¿™ä¸ªâ€œæ›´æ–°æ“ä½œâ€ï¼ˆæ¯”å¦‚æ–°çš„å€¼ï¼Œæˆ–è€…ä¸€ä¸ª "),s("code",[t._v("(prev => prev + 1)")]),t._v(" å‡½æ•°ï¼‰"),s("strong",[t._v("æ”¾è¿›é‚£ä¸ªèŠ‚ç‚¹çš„æ›´æ–°é˜Ÿåˆ—ï¼ˆqueueï¼‰é‡Œ")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("æœ€åï¼Œå®ƒä¼š"),s("strong",[t._v("è°ƒåº¦ä¸€æ¬¡ React çš„é‡æ–°æ¸²æŸ“")]),t._v("ã€‚")])])])]),t._v(" "),s("p",[t._v("åœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact å°±ä¼šå›åˆ°ç¬¬ 3 æ­¥ï¼Œéå†é“¾è¡¨ï¼Œåœ¨è®¡ç®—çŠ¶æ€æ—¶ï¼Œä¼šæ£€æŸ¥æ›´æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œé‡Œé¢çš„æ‰€æœ‰æ“ä½œï¼Œä»è€Œå¾—åˆ°æœ€æ–°çš„çŠ¶æ€å€¼è¿”å›ç»™ç»„ä»¶ã€‚â€")]),t._v(" "),s("p",[s("strong",[t._v("ä¸€å¥è¯æ€»ç»“ï¼š")])]),t._v(" "),s("p",[t._v("â€œæ‰€ä»¥ï¼Œ"),s("code",[t._v("useState")]),t._v(" çš„å†…éƒ¨å®ç°ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯"),s("strong",[t._v("ä¾é ä¸€ä¸ªç¨³å®šå­˜åœ¨äº Fiber èŠ‚ç‚¹ä¸Šçš„ Hook é“¾è¡¨ï¼Œå¹¶é€šè¿‡ä¸¥æ ¼çš„è°ƒç”¨é¡ºåºæ¥ç¡®ä¿æ¯æ¬¡æ¸²æŸ“éƒ½èƒ½æ­£ç¡®åœ°å­˜å–çŠ¶æ€ã€‚")]),t._v("â€")])])}),[],!1,null,null,null);s.default=e.exports}}]);