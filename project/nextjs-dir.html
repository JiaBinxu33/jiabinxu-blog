<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Next.js 项目文件夹结构笔记 | 贾滨旭的个人技术博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/jiabinxu-blog/R-C.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <meta name="description" content="前端开发知识体系">
    <meta name="algolia-site-verification" content="8AB7B96237F774B9">
    
    <link rel="preload" href="/jiabinxu-blog/assets/css/0.styles.a6595e30.css" as="style"><link rel="preload" href="/jiabinxu-blog/assets/js/app.ec81c2a4.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/3.c5fdad7d.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/2.34d20650.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/70.f71f155e.js" as="script"><link rel="prefetch" href="/jiabinxu-blog/assets/js/1.c3ce1b0a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/12.90fb1753.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/13.b39679df.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/14.8187523c.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/15.0bc8e462.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/16.ccfaad73.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/17.cec46538.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/18.380c784d.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/19.bfab453a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/20.6516dd9c.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/21.52e99ec1.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/22.8a3f30d9.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/23.33ab9282.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/24.78676adc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/25.3050b4ef.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/26.cd43fc60.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/27.20d5488c.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/28.da345bbd.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/29.52241c93.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/30.306efef7.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/31.257df29b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/32.8f6a39a4.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/33.b9965851.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/34.da12a983.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/35.94ca7cf0.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/36.e39b3fc8.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/37.629923f3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/38.eb4c3c24.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/39.189b8eea.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/4.309f3546.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/40.8ebea494.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/41.e84b982a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/42.e9872d14.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/43.13bfd9fb.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/44.d36e48f5.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/45.44ec783e.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/46.e5568ed9.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/47.04437602.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/48.05896a6c.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/49.77566d25.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/5.771b0795.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/50.4f5d6672.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/51.80005314.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/52.13eb153e.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/53.81101b31.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/54.1111d26e.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/55.4e36f15a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/56.426d3a06.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/57.0cddb7d0.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/58.3b97796b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/59.ca777a9f.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/6.7cbe58bc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/60.8d56997f.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/61.53a63991.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/62.c37f8662.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/63.85309368.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/64.e90aa37c.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/65.37829d64.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/66.42652f54.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/67.9a0bab4a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/68.605d1390.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/69.c655efdc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/7.942695b2.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/71.fe87e7ea.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/72.3e9861fb.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/8.987510dc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/9.684a4798.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/vendors~docsearch.771dd409.js">
    <link rel="stylesheet" href="/jiabinxu-blog/assets/css/0.styles.a6595e30.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jiabinxu-blog/" class="home-link router-link-active"><img src="/jiabinxu-blog/R-C.png" alt="贾滨旭的个人技术博客" class="logo"> <span class="site-name can-hide">贾滨旭的个人技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" placeholder="搜索..." autocomplete="off" spellcheck="false" value="" style="background-image:url(/jiabinxu-blog/search.svg);"> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/jiabinxu-blog/Html+Css/" class="nav-link">
  Html+Css
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/常见面试手写题/" class="nav-link">
  常见面试手写题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/JavaScript核心对象/" class="nav-link">
  JavaScript核心对象
</a></li></ul></div></div><div class="nav-item"><a href="/jiabinxu-blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hooks" class="dropdown-title"><span class="title">Hooks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hooks" class="mobile-dropdown-title"><span class="title">Hooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useState/" class="nav-link">
  useState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useEffect/" class="nav-link">
  useEffect
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useRef/" class="nav-link">
  useRef
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useContext/" class="nav-link">
  useContext
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemo/" class="nav-link">
  useMemo
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useCallback/" class="nav-link">
  useCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemoVSuseCallback/" class="nav-link">
  useMemoVSuseCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useReducer/" class="nav-link">
  useReducer
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useSyncExternalStore/" class="nav-link">
  useSyncExternalStore
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useActionState/" class="nav-link">
  useActionState
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs/" class="nav-link">
  nextjs
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/deploy/" class="nav-link">
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/fileUpload/" class="nav-link">
  大文件上传
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/macOS_Guide/" class="nav-link">
  macOS指南
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-i18n/" class="nav-link">
  Next.js国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-auth-refresh/" class="nav-link">
  Next.js双token无感刷新
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-dir/" class="nav-link">
  Next.js目录深入解读
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter-config/" class="nav-link">
  flutter环境配置
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/chrome-dev-tools/" class="nav-link">
  Chrome调试工具
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/jiabinxu-blog/Html+Css/" class="nav-link">
  Html+Css
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/常见面试手写题/" class="nav-link">
  常见面试手写题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/JavaScript核心对象/" class="nav-link">
  JavaScript核心对象
</a></li></ul></div></div><div class="nav-item"><a href="/jiabinxu-blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hooks" class="dropdown-title"><span class="title">Hooks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hooks" class="mobile-dropdown-title"><span class="title">Hooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useState/" class="nav-link">
  useState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useEffect/" class="nav-link">
  useEffect
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useRef/" class="nav-link">
  useRef
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useContext/" class="nav-link">
  useContext
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemo/" class="nav-link">
  useMemo
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useCallback/" class="nav-link">
  useCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemoVSuseCallback/" class="nav-link">
  useMemoVSuseCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useReducer/" class="nav-link">
  useReducer
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useSyncExternalStore/" class="nav-link">
  useSyncExternalStore
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useActionState/" class="nav-link">
  useActionState
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs/" class="nav-link">
  nextjs
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/deploy/" class="nav-link">
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/fileUpload/" class="nav-link">
  大文件上传
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/macOS_Guide/" class="nav-link">
  macOS指南
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-i18n/" class="nav-link">
  Next.js国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-auth-refresh/" class="nav-link">
  Next.js双token无感刷新
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-dir/" class="nav-link">
  Next.js目录深入解读
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter-config/" class="nav-link">
  flutter环境配置
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/chrome-dev-tools/" class="nav-link">
  Chrome调试工具
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Next.js 项目文件夹结构笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiabinxu-blog/project/nextjs-dir.html#app-或-pages-核心路由" class="sidebar-link">app/ (或 pages/) - 核心路由</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#public-静态资源服务" class="sidebar-link">public/ - 静态资源服务</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#components-可复用组件" class="sidebar-link">components/ - 可复用组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#hooks-可复用的-react-逻辑" class="sidebar-link">hooks/ - 可复用的 React 逻辑</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#utils-工具箱" class="sidebar-link">utils/ (工具箱)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#lib-项目库-辅助库" class="sidebar-link">lib/ (项目库/辅助库)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jiabinxu-blog/project/nextjs-dir.html#services-业务服务" class="sidebar-link">services/ (业务服务)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/nextjs-dir.html#总结对比" class="sidebar-link">总结对比</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="next-js-项目文件夹结构笔记"><a href="#next-js-项目文件夹结构笔记" class="header-anchor">#</a> Next.js 项目文件夹结构笔记</h1> <p>在 Next.js (以及许多现代前端) 项目中，一个清晰的文件夹结构对于代码的可维护性至关重要。每个文件夹都有其特定的职责和抽象层次。</p> <h2 id="app-或-pages-核心路由"><a href="#app-或-pages-核心路由" class="header-anchor">#</a> <code>app/</code> (或 <code>pages/</code>) - 核心路由</h2> <p>这是 Next.js 项目的核心。</p> <ul><li><p><strong><code>app/</code> (App Router - 推荐):</strong></p> <ul><li>这是 Next.js 最新的路由方式。</li> <li><strong>文件夹</strong>定义了 URL 路径（例如 <code>app/dashboard/settings/</code> 对应 <code>.../dashboard/settings</code>）。</li> <li><code>page.tsx</code> (或 <code>.js/jsx</code>) 文件是该路径下实际展示给用户的 UI 界面。</li> <li><code>layout.tsx</code> (或 <code>.js/jsx</code>) 定义了该路径及其子路径共享的布局。</li></ul></li> <li><p><strong><code>pages/</code> (Pages Router - 传统):</strong></p> <ul><li>这是旧版的路由方式。</li> <li><strong>文件</strong>定义了 URL 路径（例如 <code>pages/profile.js</code> 对应 <code>.../profile</code>）。</li> <li><code>_app.js</code> 和 <code>_document.js</code> 是特殊的全局配置文件。</li></ul></li></ul> <p><strong>职责：</strong> 存放应用的页面、路由逻辑和特定于页面的数据获取。</p> <hr> <h2 id="public-静态资源服务"><a href="#public-静态资源服务" class="header-anchor">#</a> <code>public/</code> - 静态资源服务</h2> <p><code>public</code> 文件夹的作用非常单纯：<strong>告诉 Web 服务器，请把这个文件夹里的所有内容都变成可以通过 URL 直接访问的网络资源。</strong></p> <h4 id="_1-核心原理-服务器与客户端的隔离"><a href="#_1-核心原理-服务器与客户端的隔离" class="header-anchor">#</a> 1. 核心原理：服务器与客户端的隔离</h4> <ul><li><strong>服务器 (Server)</strong>：是你的代码和文件存放的地方（例如你的电脑或 Vercel 服务器）。<code>public</code> 文件夹物理上存在于服务器。</li> <li><strong>客户端 (Client)</strong>：是用户的网页浏览器（Chrome, Safari 等）。它对服务器的文件系统<strong>一无所知</strong>，它不能直接“读取”你项目中的 <code>public</code> 文件夹。</li></ul> <h4 id="_2-工作方式-网络-url-映射"><a href="#_2-工作方式-网络-url-映射" class="header-anchor">#</a> 2. 工作方式：网络 URL 映射</h4> <p>当你把文件（如 <code>logo.png</code>）放入 <code>public</code> 文件夹时，Next.js 服务器会为它创建一个 URL 映射：</p> <ul><li><strong>服务器文件路径:</strong> <code>.../你的项目/public/logo.png</code></li> <li><strong>映射为网络 URL:</strong> <code>http://你的网站.com/logo.png</code></li></ul> <p>因此，在你的代码中，你<strong>必须</strong>通过根路径 <code>/</code> (代表 <code>public</code> 文件夹) 来引用它，浏览器会通过网络请求来获取这个文件。</p> <p><strong>正确用法：</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 浏览器会发起一个 GET http://.../logo.png 的请求</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">// 浏览器会发起一个 GET http://.../music.mp3 的请求</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/music.mp3'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>错误用法：</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 客户端（浏览器）无法访问本地文件系统！</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../public/logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Error<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>职责： 存放不需要经过编译处理的静态文件，如图片、Favicon、robots.txt、字体文件、音频/视频文件等。</p> <h2 id="components-可复用组件"><a href="#components-可复用组件" class="header-anchor">#</a> <code>components/</code> - 可复用组件</h2> <p>这是一个通用的约定文件夹（Next.js 不会强制要求）。</p> <ul><li><strong>职责：</strong> 存放构成你 UI 的可复用“积木”。</li> <li><strong>示例：</strong> <code>Button.tsx</code>, <code>Modal.tsx</code>, <code>Navbar.tsx</code>, <code>Layout.tsx</code>。</li> <li><strong>好处：</strong> 保持 <code>app/</code> 目录的整洁，使路由文件只专注于“页面”逻辑，而 <code>components/</code> 专注于“UI 零件”。</li></ul> <hr> <h2 id="hooks-可复用的-react-逻辑"><a href="#hooks-可复用的-react-逻辑" class="header-anchor">#</a> <code>hooks/</code> - 可复用的 React 逻辑</h2> <p>这是一个 React 项目中非常重要的约定文件夹。</p> <ul><li><p><strong>职责：</strong> 抽离和封装<strong>可复用的、有状态的</strong> React 逻辑。</p></li> <li><p><strong>核心区别：<code>hooks/</code> vs. <code>utils/</code></strong></p> <ul><li>“hooks 和普通的辅助函数有什么区别”是 React 架构的核心问题。</li> <li><strong><code>utils/</code> 辅助函数 (Helper Function):</strong> <ul><li>是一个<strong>普通的 JavaScript 函数</strong>。</li> <li><strong>不能</strong>调用 React 的 <code>useState</code>, <code>useEffect</code>, <code>useContext</code> 等（因为它们不是 React 组件或 Hook）。</li> <li>可以在任何地方调用（组件外、循环中、条件里）。</li> <li><strong>示例：</strong> <code>formatDate(date)</code> (纯数据转换), <code>isValidEmail(email)</code> (纯逻辑判断)。</li></ul></li> <li><strong><code>hooks/</code> 自定义 Hook (Custom Hook):</strong> <ul><li>是一个<strong>特殊的 JavaScript 函数</strong>，其名称<strong>必须</strong>以 <code>use</code> 开头（例如 <code>useWindowSize</code>）。</li> <li>其<strong>唯一目的</strong>是封装 React 特有的功能（状态、生命周期、上下文）。</li> <li><strong>可以</strong>（也通常会）调用 <code>useState</code>, <code>useEffect</code> 等其他 Hook。</li> <li><strong>必须</strong>遵守 &quot;Rules of Hooks&quot;（只能在组件的顶层或另一个 Hook 中调用）。</li></ul></li></ul></li> <li><p><strong>什么时候应该封装 Hook？</strong></p> <ul><li>当你发现你在两个或多个组件中编写了<strong>完全相同的 <code>useState</code> 和 <code>useEffect</code> 逻辑</strong>时。</li> <li><strong>示例：</strong> <ul><li><code>hooks/useWindowSize.ts</code>: 封装了 <code>useState</code> 和 <code>useEffect</code> 来监听窗口尺寸变化。</li> <li><code>hooks/useFetch.ts</code>: 封装了 <code>useState</code> (用于 <code>data</code>, <code>loading</code>, <code>error</code>) 和 <code>useEffect</code> (用于 <code>fetch</code>)。</li> <li><code>hooks/useDebounce.ts</code>: 封装了 <code>useState</code> 和 <code>useEffect</code> 来实现防抖。</li></ul></li></ul></li></ul> <hr> <h2 id="utils-工具箱"><a href="#utils-工具箱" class="header-anchor">#</a> <code>utils/</code> (工具箱)</h2> <ul><li><strong>职责：</strong> 提供<strong>通用的、无状态的、纯粹的</strong> JavaScript 功能。</li> <li><strong>特点：</strong> <ul><li><strong>通用性：</strong> 它们是完全独立的，不关心你的任何业务逻辑。<code>formatDate</code> 函数不关心你格式化的是“生日”还是“订单日期”。</li> <li><strong>无状态：</strong> 严格无状态，不存储或管理应用状态。</li> <li><strong>可移植：</strong> 你几乎可以把 <code>utils</code> 里的文件直接复制到任何其他项目中去使用。</li></ul></li> <li><strong>示例：</strong> <ul><li><code>utils/format.ts</code> (包含 <code>formatDate</code>, <code>formatCurrency</code>)</li> <li><code>utils/validators.ts</code> (包含 <code>isValidEmail</code>)</li> <li><code>utils/cn.ts</code> (用于合并 Tailwind class)</li></ul></li></ul> <hr> <h2 id="lib-项目库-辅助库"><a href="#lib-项目库-辅助库" class="header-anchor">#</a> <code>lib/</code> (项目库/辅助库)</h2> <ul><li><strong>职责：</strong> 存放<strong>项目特定的、共享的</strong>辅助代码、配置、实例或<strong>常量</strong>。</li> <li><strong>特点：</strong> <ul><li><strong>项目特定：</strong> 它不像 <code>utils</code> 那么通用，它被设计为在该项目中复用。</li> <li><strong>配置/设置：</strong> 经常用于初始化和配置第三方库（例如 <code>lib/db.ts</code> 导出一个 Prisma 实例）。</li> <li><strong>存放常量:</strong> 这是存放“静态变量”或“魔法数字”的最佳位置，例如 <code>API_BASE_URL</code>、<code>DEFAULT_PAGE_SIZE</code>、或用于 <code>enum</code> 的对象。这比将它们硬编码在组件中要好得多。</li></ul></li> <li><strong>示例：</strong> <ul><li><code>lib/db.ts</code> (设置和导出 Prisma 或 Drizzle 客户端实例)</li> <li><code>lib/auth.ts</code> (配置 NextAuth.js 的选项)</li> <li><code>lib/types.ts</code> (存放项目共享的 TypeScript 接口，如 <code>IUser</code>, <code>IProduct</code>)</li> <li><strong><code>lib/constants.ts</code> (存放如 <code>API_BASE_URL</code>, <code>SEO_KEYWORDS</code> 这样的常量)</strong></li></ul></li></ul> <hr> <h2 id="services-业务服务"><a href="#services-业务服务" class="header-anchor">#</a> <code>services/</code> (业务服务)</h2> <ul><li><strong>职责：</strong> 封装一个<strong>完整的、领域特定的</strong>业务能力，作为“专家”供其他代码调用。</li> <li><strong>特点：</strong> <ul><li><strong>架构级抽象：</strong> 核心是“做什么事”，而不是“如何做”。</li> <li><strong>封装实现：</strong> 调用者（如组件或 Hook）<strong>不需要关心</strong>任何实现细节。</li> <li><strong>领域特定：</strong> 它们懂业务。<code>storageService</code> 知道你的存档键名是 <code>TETRIS_GAME_STATE</code>，知道数据类型是 <code>IGameState</code>。</li> <li><strong>可能有状态：</strong> <code>service</code> 内部可以持有状态（例如 <code>audioService</code> 可以记住哪些音频已被加载）。</li></ul></li> <li><strong>示例：</strong> <ul><li><code>services/storageService.ts</code> (封装 <code>saveState</code>, <code>loadState</code>，调用者无需知道用的是 <code>localStorage</code> 还是 <code>IndexedDB</code>)</li> <li><code>services/apiService.ts</code> (封装所有的 <code>fetch</code> 请求，统一处理认证、错误和数据转换)</li> <li><code>services/audioService.ts</code> (封装 <code>loadSounds</code>, <code>playSoundClip</code>，调用者无需关心 Web Audio API 的复杂性)</li></ul></li></ul> <hr> <h3 id="总结对比"><a href="#总结对比" class="header-anchor">#</a> 总结对比</h3> <table><thead><tr><th style="text-align:left;">特性</th> <th style="text-align:left;"><code>utils/</code> (工具)</th> <th style="text-align:left;"><code>hooks/</code> (React逻辑)</th> <th style="text-align:left;"><code>lib/</code> (库)</th> <th style="text-align:left;"><code>services/</code> (专家/部门)</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>职责</strong></td> <td style="text-align:left;">通用、无状态的JS功能</td> <td style="text-align:left;"><strong>有状态的React逻辑</strong></td> <td style="text-align:left;">项目特定、共享的设置与实例</td> <td style="text-align:left;">封装一个完整的业务能力</td></tr> <tr><td style="text-align:left;"><strong>抽象</strong></td> <td style="text-align:left;">代码级（如何做）</td> <td style="text-align:left;"><strong>UI逻辑级（如何响应）</strong></td> <td style="text-align:left;">项目级（共享的定义）</td> <td style="text-align:left;">架构级（做什么）</td></tr> <tr><td style="text-align:left;"><strong>状态</strong></td> <td style="text-align:left;">严格无状态</td> <td style="text-align:left;"><strong>有状态 (useState)</strong></td> <td style="text-align:left;">一般无状态（但可导出实例）</td> <td style="text-align:left;"><strong>可以有内部状态</strong></td></tr> <tr><td style="text-align:left;"><strong>示例</strong></td> <td style="text-align:left;"><code>formatDate()</code></td> <td style="text-align:left;"><code>useWindowSize()</code></td> <td style="text-align:left;"><code>db.ts</code>, <code>lib/constants.ts</code></td> <td style="text-align:left;"><code>storageService.saveState()</code></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/jiabinxu-blog/assets/js/app.ec81c2a4.js" defer></script><script src="/jiabinxu-blog/assets/js/3.c5fdad7d.js" defer></script><script src="/jiabinxu-blog/assets/js/2.34d20650.js" defer></script><script src="/jiabinxu-blog/assets/js/70.f71f155e.js" defer></script>
  </body>
</html>
