<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一些常用库，技术选型 | 贾滨旭的个人技术博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/jiabinxu-blog/R-C.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <meta name="description" content="前端开发知识体系">
    <meta name="algolia-site-verification" content="8AB7B96237F774B9">
    
    <link rel="preload" href="/jiabinxu-blog/assets/css/0.styles.6e2e750c.css" as="style"><link rel="preload" href="/jiabinxu-blog/assets/js/app.f81cf313.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/3.bb87b8ff.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/2.180c3171.js" as="script"><link rel="preload" href="/jiabinxu-blog/assets/js/74.3329104a.js" as="script"><link rel="prefetch" href="/jiabinxu-blog/assets/js/1.c3ce1b0a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/12.3c2a6c83.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/13.3c49b8de.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/14.91b5c8e3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/15.ef4b17e3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/16.23f5619b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/17.4bb3669d.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/18.664e814e.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/19.21ad7801.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/20.d4db7480.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/21.31141967.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/22.8a3f30d9.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/23.97e9a047.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/24.78676adc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/25.3050b4ef.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/26.cd43fc60.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/27.f04bcbc6.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/28.f5223a9d.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/29.52241c93.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/30.2e981bab.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/31.d58d5448.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/32.fb28f85b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/33.d10d4810.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/34.f89661dc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/35.a2c20bce.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/36.e39b3fc8.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/37.edabae48.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/38.8f37da54.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/39.86e08cd4.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/4.3ff6f6b3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/40.42a528d4.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/41.46dbe14a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/42.0b72d4b8.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/43.7d892d86.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/44.164a4f16.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/45.5bc0d409.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/46.82b75b59.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/47.e959a5f5.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/48.cc983ac3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/49.ed08971b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/5.9cbc22ee.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/50.f9457251.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/51.63e6d8ea.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/52.51ebfdbe.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/53.2e948603.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/54.1907287a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/55.2aca8e9e.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/56.53572a11.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/57.6c8d55a3.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/58.7c01df11.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/59.1df3a578.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/6.7cbe58bc.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/60.bf31f66a.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/61.f2feff3d.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/62.d36efdc6.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/63.824240b9.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/64.6e5633db.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/65.0bc9c8bd.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/66.b03cfd91.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/67.3a221345.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/68.23192d8d.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/69.e15e8a6b.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/7.942695b2.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/70.d4fc17a1.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/71.bdb98294.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/72.5b17ac84.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/73.3030d7e2.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/8.c9879746.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/9.684a4798.js"><link rel="prefetch" href="/jiabinxu-blog/assets/js/vendors~docsearch.771dd409.js">
    <link rel="stylesheet" href="/jiabinxu-blog/assets/css/0.styles.6e2e750c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jiabinxu-blog/" class="home-link router-link-active"><img src="/jiabinxu-blog/R-C.png" alt="贾滨旭的个人技术博客" class="logo"> <span class="site-name can-hide">贾滨旭的个人技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" placeholder="搜索..." autocomplete="off" spellcheck="false" value="" style="background-image:url(/jiabinxu-blog/search.svg);"> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/jiabinxu-blog/Html+Css/" class="nav-link">
  Html+Css
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/handwriting-code/" class="nav-link">
  常见面试手写题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/scenario-questions/" class="nav-link">
  常见面试场景题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/javascript-core-objects/" class="nav-link">
  JavaScript核心对象
</a></li></ul></div></div><div class="nav-item"><a href="/jiabinxu-blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hooks" class="dropdown-title"><span class="title">Hooks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hooks" class="mobile-dropdown-title"><span class="title">Hooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useState/" class="nav-link">
  useState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useEffect/" class="nav-link">
  useEffect
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useRef/" class="nav-link">
  useRef
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useContext/" class="nav-link">
  useContext
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemo/" class="nav-link">
  useMemo
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useCallback/" class="nav-link">
  useCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemoVSuseCallback/" class="nav-link">
  useMemoVSuseCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useReducer/" class="nav-link">
  useReducer
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useSyncExternalStore/" class="nav-link">
  useSyncExternalStore
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useActionState/" class="nav-link">
  useActionState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useOptimistic/" class="nav-link">
  useOptimistic
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs/" class="nav-link">
  nextjs
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/deploy/" class="nav-link">
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/fileUpload/" class="nav-link">
  大文件上传
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/macOS_Guide/" class="nav-link">
  macOS指南
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/popular-libraries/" class="nav-link">
  常用库
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-i18n/" class="nav-link">
  Next.js国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-auth-refresh/" class="nav-link">
  Next.js双token无感刷新
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-dir/" class="nav-link">
  Next.js目录深入解读
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter-config/" class="nav-link">
  flutter环境配置
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/chrome-dev-tools/" class="nav-link">
  Chrome调试工具
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/jiabinxu-blog/Html+Css/" class="nav-link">
  Html+Css
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/handwriting-code/" class="nav-link">
  常见面试手写题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/scenario-questions/" class="nav-link">
  常见面试场景题
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/JavaScript/javascript-core-objects/" class="nav-link">
  JavaScript核心对象
</a></li></ul></div></div><div class="nav-item"><a href="/jiabinxu-blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Hooks" class="dropdown-title"><span class="title">Hooks</span> <span class="arrow down"></span></button> <button type="button" aria-label="Hooks" class="mobile-dropdown-title"><span class="title">Hooks</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useState/" class="nav-link">
  useState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useEffect/" class="nav-link">
  useEffect
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useRef/" class="nav-link">
  useRef
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useContext/" class="nav-link">
  useContext
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemo/" class="nav-link">
  useMemo
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useCallback/" class="nav-link">
  useCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useMemoVSuseCallback/" class="nav-link">
  useMemoVSuseCallback
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useReducer/" class="nav-link">
  useReducer
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useSyncExternalStore/" class="nav-link">
  useSyncExternalStore
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useActionState/" class="nav-link">
  useActionState
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/React/Hooks/useOptimistic/" class="nav-link">
  useOptimistic
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实战" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目实战" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs/" class="nav-link">
  nextjs
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/deploy/" class="nav-link">
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/fileUpload/" class="nav-link">
  大文件上传
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/macOS_Guide/" class="nav-link">
  macOS指南
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/popular-libraries/" class="nav-link">
  常用库
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-i18n/" class="nav-link">
  Next.js国际化方案
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-auth-refresh/" class="nav-link">
  Next.js双token无感刷新
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/nextjs-dir/" class="nav-link">
  Next.js目录深入解读
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter-config/" class="nav-link">
  flutter环境配置
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/flutter/" class="nav-link">
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jiabinxu-blog/project/chrome-dev-tools/" class="nav-link">
  Chrome调试工具
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>一些常用库，技术选型</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiabinxu-blog/project/popular-libraries.html#styled-components-css-in-js" class="sidebar-link">styled-components (CSS-in-JS)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#核心思想" class="sidebar-link">核心思想</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#工作机制" class="sidebar-link">工作机制</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#优点" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#关键点-陷阱" class="sidebar-link">关键点/陷阱</a></li></ul></li><li><a href="/jiabinxu-blog/project/popular-libraries.html#tailwind-css-utility-first" class="sidebar-link">Tailwind CSS (Utility-First)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#核心思想-2" class="sidebar-link">核心思想</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#工作机制-2" class="sidebar-link">工作机制</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#优点-2" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#关键点-陷阱-2" class="sidebar-link">关键点/陷阱</a></li></ul></li><li><a href="/jiabinxu-blog/project/popular-libraries.html#clsx-class-name-utility" class="sidebar-link">clsx (Class Name Utility)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#核心思想-3" class="sidebar-link">核心思想</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#工作机制-3" class="sidebar-link">工作机制</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#优点-3" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#关键点-陷阱-3" class="sidebar-link">关键点/陷阱</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#基本用法" class="sidebar-link">基本用法：</a></li></ul></li><li><a href="/jiabinxu-blog/project/popular-libraries.html#tailwind-merge-tailwind-class-merger" class="sidebar-link">tailwind-merge (Tailwind Class Merger)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#核心思想-4" class="sidebar-link">核心思想</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#工作机制-4" class="sidebar-link">工作机制</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#为什么需要它-它与-clsx-的区别" class="sidebar-link">为什么需要它？（它与 clsx 的区别）</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#优点-4" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#关键点-陷阱-4" class="sidebar-link">关键点/陷阱</a></li></ul></li><li><a href="/jiabinxu-blog/project/popular-libraries.html#websocket" class="sidebar-link">websocket</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#_1-核心思想" class="sidebar-link">1. 核心思想</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#_2-工作机制" class="sidebar-link">2. 工作机制</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#_3-优点" class="sidebar-link">3. 优点</a></li><li class="sidebar-sub-header"><a href="/jiabinxu-blog/project/popular-libraries.html#_4-缺点" class="sidebar-link">4. 缺点</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="一些常用库-技术选型"><a href="#一些常用库-技术选型" class="header-anchor">#</a> 一些常用库，技术选型</h1> <h2 id="styled-components-css-in-js"><a href="#styled-components-css-in-js" class="header-anchor">#</a> styled-components (CSS-in-JS)</h2> <h3 id="核心思想"><a href="#核心思想" class="header-anchor">#</a> 核心思想</h3> <p>一个“CSS-in-JS”库。它让你能够<strong>直接在 JS 文件中编写实际的 CSS</strong>，并将样式与 React 组件紧密绑定。</p> <h3 id="工作机制"><a href="#工作机制" class="header-anchor">#</a> 工作机制</h3> <ul><li><strong>组件化样式：</strong> 你创建的不是 CSS 类，而是带样式的 React 组件（例如 <code>styled.div</code>）。</li> <li><strong>模板字符串语法：</strong> 使用 ES6 的 &quot;Tagged Template Literals&quot;（标签模板字符串）来包裹 CSS 代码。</li> <li><strong>自动注入：</strong> 它在运行时或构建时，会为组件生成唯一的 <code>className</code>，并自动将对应的 CSS 注入到 HTML 的 <code>&lt;style&gt;</code> 标签中。</li></ul> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h3> <ul><li><strong>消除全局作用域：</strong> 彻底解决了 CSS 的最大痛点——全局命名冲突。所有样式默认都是局部的，只作用于它所绑定的组件。</li> <li><strong>动态样式：</strong> 基于组件的 <code>props</code> 来动态计算样式变得极其简单和直观，无需手动拼接 <code>className</code>。</li> <li><strong>样式与逻辑统一：</strong> 样式和组件定义在同一个文件中，提高了内聚性。维护和重构时，删除组件就会自动带走它的样式。</li> <li><strong>主题（Theming）：</strong> 内置强大的主题系统，非常容易实现全局样式切换（如暗黑/明亮模式）。</li></ul> <h3 id="关键点-陷阱"><a href="#关键点-陷阱" class="header-anchor">#</a> 关键点/陷阱</h3> <ul><li><strong>运行时性能开销：</strong> 经典的 <code>styled-components</code> 是一个运行时方案，它需要在浏览器端解析 JS、生成 CSS 并注入。在极端情况下，这可能比纯 CSS 文件或预编译方案（如 CSS Modules）慢一点。</li> <li><strong>JS 包体积：</strong> CSS 被包含在了 JavaScript 包里，这可能会轻微增大 JS 的体积。</li> <li><strong>学习曲线：s</strong>虽然写的是 CSS，但这种“组件化”的 CSS 思维需要适应（例如如何覆盖嵌套组件的样式）。</li> <li><strong>工具链争议：</strong> &quot;CSS-in-JS&quot; vs &quot;Zero-Runtime CSS&quot;（如 Stitches, Panda） vs &quot;Utility-First&quot;（如 Tailwind）是目前前端样式方案的主要讨论点。选择它意味着接受了它的运行时开销，以换取开发体验。</li></ul> <h2 id="tailwind-css-utility-first"><a href="#tailwind-css-utility-first" class="header-anchor">#</a> Tailwind CSS (Utility-First)</h2> <h3 id="核心思想-2"><a href="#核心思想-2" class="header-anchor">#</a> 核心思想</h3> <p>一个“Utility-First”（功能优先）的 CSS 框架。它让你<strong>不再编写自定义的 CSS 类，而是直接在 HTML 中组合大量预定义的、单一功能的“功能类”</strong>（Utility Classes）来构建界面。</p> <h3 id="工作机制-2"><a href="#工作机制-2" class="header-anchor">#</a> 工作机制</h3> <ul><li><strong>原子化类库：</strong> 框架提供数千个原子化的 CSS 类，每个类只做一件事（例如 <code>flex</code> 负责 <code>display: flex;</code>，<code>pt-4</code> 负责 <code>padding-top: 1rem;</code>，<code>text-center</code> 负责 <code>text-align: center;</code>）。</li> <li><strong>JIT 引擎：</strong> 现代 Tailwind 使用 <strong>Just-in-Time (JIT)</strong> 引擎。它会在开发和构建时扫描你所有的模板文件（HTML, JS, JSX, Vue...）。</li> <li><strong>按需生成：</strong> 它会精确地找出你实际使用到的所有功能类（包括响应式变体如 <code>md:flex</code>），然后动态地将这些类对应的 CSS 生成到一个最终的、高度优化的 CSS 文件中。</li></ul> <h3 id="优点-2"><a href="#优点-2" class="header-anchor">#</a> 优点</h3> <ul><li><strong>极高的开发效率：</strong> 你几乎不需要离开 HTML（或 JSX）文件。无需思考“这个 div 该叫什么名字”，直接用功能类堆砌出样式，构建速度极快。</li> <li><strong>无需担心命名冲突：</strong> 彻底告别了 CSS 命名（如 BEM）的烦恼。由于你只使用预设的类，全局作用域污染和样式冲突不复存在。</li> <li><strong>设计系统约束：</strong> 所有样式（间距、颜色、字号）都来自预定义的配置（Design Tokens）。这强制团队保持视觉一致性，非常利于规模化。</li> <li><strong>卓越的性能：</strong> 最终打包的 CSS 文件极小。因为它只包含你项目中实际用到的样式，几乎没有冗余代码，利于生产环境加载。</li> <li><strong>响应式设计直观：</strong> 使用前缀（如 <code>sm:</code>, <code>md:</code>, <code>lg:</code>）在 HTML 中直接处理响应式布局，非常简洁明了。</li></ul> <h3 id="关键点-陷阱-2"><a href="#关键点-陷阱-2" class="header-anchor">#</a> 关键点/陷阱</h3> <ul><li><strong>HTML 可读性：</strong> 这是最大的争议点。<code>class</code> 属性会变得非常长、非常“丑”，充满了大量的类名，初看会觉得 HTML 结构很“脏”。</li> <li><strong>学习曲线：</strong> 你需要从“写 CSS 属性”的思维转变为“记忆和组合功能类”的思维。初期需要频繁查阅文档，有一定的心智负担。</li> <li><strong>抽象层：</strong> 当一个组件（如 Button）在多处复用时，到处复制粘贴一长串 <code>class</code> 是不可取的。你需要将其抽象为组件（如 React/Vue 组件），或使用 Tailwind 的 <code>@apply</code> 指令来封装。</li> <li><strong>强依赖构建工具：</strong> JIT 引擎的高效运作，依赖于正确的 PostCSS 配置和构建流程。它不是一个简单的“引入 CSS 文件”就能完美工作的库。</li> <li><strong>“看起来都一样”：</strong> 如果不进行自定义配置（<code>tailwind.config.js</code>），所有用 Tailwind 做的网站在“感觉”上会有点相似（因为都用了默认的间距和字号尺度）。</li></ul> <h2 id="clsx-class-name-utility"><a href="#clsx-class-name-utility" class="header-anchor">#</a> clsx (Class Name Utility)</h2> <h3 id="核心思想-3"><a href="#核心思想-3" class="header-anchor">#</a> 核心思想</h3> <p>一个<strong>极小、极快</strong>的 JavaScript 工具库，专门用于一件事：<strong>有条件地、智能地将多个 CSS 类名（ClassNames）合并成一个单一的字符串</strong>。</p> <h3 id="工作机制-3"><a href="#工作机制-3" class="header-anchor">#</a> 工作机制</h3> <ul><li><strong>函数调用：</strong> 它是一个简单的函数。你可以向它传入任意数量的参数。</li> <li><strong>支持多种类型：</strong> 参数可以是字符串（<code>'class-a'</code>）、对象（<code>{ 'class-b': true, 'class-c': false }</code>）、数组（<code>['class-d', 'class-e']</code>），甚至是混合嵌套的。</li> <li><strong>智能过滤：</strong> 它会遍历所有参数，只保留“真值”（truthy）的类名。所有 <code>false</code>, <code>null</code>, <code>undefined</code> 或在对象中值为 <code>false</code> 的键都会被自动忽略。</li> <li><strong>返回字符串：</strong> 最终返回一个用空格隔开的、干净的、合并后的 <code>className</code> 字符串。</li></ul> <h3 id="优点-3"><a href="#优点-3" class="header-anchor">#</a> 优点</h3> <ul><li><strong>极致的性能和体积：</strong> <code>clsx</code> (及其前身 <code>classnames</code>) 以其微小的体积（通常 &lt; 1KB Gzipped）和极高的执行速度而闻名。对于这种高频操作，性能开销几乎为零。</li> <li><strong>让条件样式变得优雅：</strong> 彻底告别了在 JSX/HTML 中写复杂的 JavaScript 模板字符串（<code>${...}</code>）或三元运算符来拼接 <code>className</code> 的混乱局面。</li> <li><strong>可读性极高：</strong> 将复杂的条件逻辑（哪个 <code>prop</code> 激活时添加哪个类）转换成一个清晰的对象字面量，意图非常明显。</li> <li><strong>灵活的 API：</strong> 支持几乎所有你能想到的组合方式（字符串、对象、数组、混合嵌套），怎么方便怎么写。</li></ul> <h3 id="关键点-陷阱-3"><a href="#关键点-陷阱-3" class="header-anchor">#</a> 关键点/陷阱</h3> <ul><li><strong>它只做一件事：</strong> 它<strong>不生产 CSS</strong>，也不关心你的 CSS 是如何编写的（无论是 CSS Modules, Tailwind, 还是普通 CSS）。它只是一个“字符串处理器”。</li> <li><strong>不是样式方案：</strong> 不要把它与 <code>styled-components</code> 或 <code>Tailwind</code> 混淆。<code>clsx</code> 是这些方案的“辅助工具”，而不是替代品。</li> <li><strong>Tailwind 的“近亲”：</strong> 在 React 和 Tailwind CSS 的生态中，<code>clsx</code> (或功能相似的 <code>tailwind-merge</code>) 几乎是必备工具，用于处理组件 <code>props</code> 带来的基础样式和变体样式的合并。</li> <li><strong>命名来源：</strong> 它的名字 <code>clsx</code> 就是 &quot;CLassnameS indeXed&quot;（或 &quot;CLassnameS eXtended&quot;）的缩写，发音通常就是 &quot;class-x&quot;。</li></ul> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法：</h3> <hr> <h4 id="_1-传入基本字符串-strings"><a href="#_1-传入基本字符串-strings" class="header-anchor">#</a> 1. 传入基本字符串 (Strings)</h4> <p>这是最简单的用法。你传入多少个字符串，它就帮你用空格拼接在一起。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token comment">// 传入多个字符串参数</span>
<span class="token function">clsx</span><span class="token punctuation">(</span><span class="token string">'class-one'</span><span class="token punctuation">,</span> <span class="token string">'class-two'</span><span class="token punctuation">,</span> <span class="token string">'class-three'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;class-one class-two class-three&quot;</span>

<span class="token comment">// 传入一个包含空格的字符串，它也会正确处理</span>
<span class="token function">clsx</span><span class="token punctuation">(</span><span class="token string">'class-one'</span><span class="token punctuation">,</span> <span class="token string">'   '</span><span class="token punctuation">,</span> <span class="token string">'class-two'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;class-one class-two&quot; (它会处理掉多余的空格)</span>
</code></pre></div><hr> <h4 id="_2-传入对象-objects-核心用法"><a href="#_2-传入对象-objects-核心用法" class="header-anchor">#</a> 2. 传入对象 (Objects) - 核心用法</h4> <p>这是 <code>clsx</code> 最强大、最常用的功能：<strong>根据条件动态添加 class</strong>。</p> <p>你传入一个对象，其中：</p> <ul><li><strong>键 (key)</strong> 是你要添加的 <code>className</code>。</li> <li><strong>值 (value)</strong> 是一个布尔值（或任何“真值/假值”）。</li></ul> <p>如果值为 <code>true</code>，这个 <code>className</code> 就会被包含；如果为 <code>false</code> (或 <code>null</code>, <code>undefined</code> 等)，就会被忽略。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hasError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token string">'dark'</span><span class="token punctuation">;</span>

<span class="token function">clsx</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">'component'</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">// 总是包含 'component'</span>
  <span class="token string-property property">'is-active'</span><span class="token operator">:</span> isActive<span class="token punctuation">,</span>     <span class="token comment">// 'is-active' 会被包含</span>
  <span class="token string-property property">'has-error'</span><span class="token operator">:</span> hasError<span class="token punctuation">,</span>     <span class="token comment">// 'has-error' 会被忽略</span>
  <span class="token string-property property">'theme-dark'</span><span class="token operator">:</span> theme <span class="token operator">===</span> <span class="token string">'dark'</span> <span class="token comment">// 'theme-dark' 会被包含</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;component is-active theme-dark&quot;</span>
</code></pre></div><hr> <h4 id="_3-传入数组-arrays"><a href="#_3-传入数组-arrays" class="header-anchor">#</a> 3. 传入数组 (Arrays)</h4> <p>你也可以传入一个数组（或嵌套数组），它会自动将数组“拍平”（flatten）并拼接。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token string">'button-large'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nestedStyles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'extra'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'super-nested'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">clsx</span><span class="token punctuation">(</span>styles<span class="token punctuation">,</span> nestedStyles<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;button button-large extra super-nested&quot;</span>
</code></pre></div><hr> <h4 id="_4-混合使用-mixed-arguments-最常见"><a href="#_4-混合使用-mixed-arguments-最常见" class="header-anchor">#</a> 4. 混合使用 (Mixed Arguments) - 最常见</h4> <p>在真实场景中，你通常会把上面所有用法混合在一起。这是 <code>clsx</code> 灵活性的体现。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isDisabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> extraClasses <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'p-4'</span><span class="token punctuation">,</span> <span class="token string">'rounded'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">clsx</span><span class="token punctuation">(</span>
  <span class="token string">'btn'</span><span class="token punctuation">,</span>             <span class="token comment">// 1. 基础类 (String)</span>
  extraClasses<span class="token punctuation">,</span>      <span class="token comment">// 2. 传入的额外类 (Array)</span>
  <span class="token punctuation">{</span>                  <span class="token comment">// 3. 条件类 (Object)</span>
    <span class="token string-property property">'btn-disabled'</span><span class="token operator">:</span> isDisabled<span class="token punctuation">,</span>
    <span class="token string-property property">'btn-primary'</span><span class="token operator">:</span> <span class="token operator">!</span>isDisabled
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;btn p-4 rounded btn-disabled&quot;</span>
</code></pre></div><hr> <h4 id="_5-自动忽略-假值-falsy-values"><a href="#_5-自动忽略-假值-falsy-values" class="header-anchor">#</a> 5. 自动忽略“假值” (Falsy Values)</h4> <p><code>clsx</code> 会自动帮你过滤掉所有 JS 中的“假值”，如 <code>null</code>, <code>undefined</code>, <code>false</code>, <code>0</code>, <code>''</code> (空字符串)。这让你的代码非常干净，不需要自己做空值检查。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> maybeClass <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> showClass <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token function">clsx</span><span class="token punctuation">(</span>
  <span class="token string">'class-a'</span><span class="token punctuation">,</span>
  maybeClass<span class="token punctuation">,</span>  <span class="token comment">// 被忽略</span>
  showClass<span class="token punctuation">,</span>   <span class="token comment">// 被忽略</span>
  <span class="token string">'class-b'</span><span class="token punctuation">,</span>
  <span class="token keyword">undefined</span><span class="token punctuation">,</span>   <span class="token comment">// 被忽略</span>
  <span class="token string">'class-c'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;class-a class-b class-c&quot;</span>
</code></pre></div><hr> <h4 id="🚀-真实-react-示例"><a href="#🚀-真实-react-示例" class="header-anchor">#</a> 🚀 真实 React 示例</h4> <p><code>clsx</code> 的主要价值体现在组件中，根据 <code>props</code> 动态设置 <code>className</code>。</p> <p><strong>[ 传统方式 (用模板字符串) ]</strong> - <em>比较混乱</em></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isPrimary<span class="token punctuation">,</span> isDisabled<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">btn </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isPrimary <span class="token operator">?</span> <span class="token string">'btn-primary'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isDisabled <span class="token operator">?</span> <span class="token string">'btn-disabled'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token comment">// =&gt; &lt;button class=&quot;btn  btn-disabled&quot;&gt;... (注意 &quot;btn&quot; 和 &quot;btn-disabled&quot; 之间的多余空格)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>[ 使用 clsx 的方式 ]</strong> - <em>非常清晰</em></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isPrimary<span class="token punctuation">,</span> isDisabled<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token function">clsx</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'btn-primary'</span><span class="token operator">:</span> isPrimary<span class="token punctuation">,</span>
    <span class="token string-property property">'btn-disabled'</span><span class="token operator">:</span> isDisabled
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token comment">// 假设 isPrimary=false, isDisabled=true</span>
  <span class="token comment">// =&gt; &lt;button class=&quot;btn btn-disabled&quot;&gt;... (干净、正确)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>总而言之，<code>clsx</code> 的用法就是：<strong>你把所有可能用到的类名，不管是什么格式（字符串、对象、数组），全都扔给它，它会帮你处理好所有条件判断，最后吐出一个完美的 className 字符串。</strong></p> <h2 id="tailwind-merge-tailwind-class-merger"><a href="#tailwind-merge-tailwind-class-merger" class="header-anchor">#</a> tailwind-merge (Tailwind Class Merger)</h2> <h3 id="核心思想-4"><a href="#核心思想-4" class="header-anchor">#</a> 核心思想</h3> <p>一个专门为 Tailwind CSS 设计的工具函数，用于<strong>智能地合并（merge）多个 Tailwind 类名字符串，并自动解决它们之间的“冲突”</strong>。</p> <p>它的核心任务是：当你动态组合的类名有样式冲突时（比如同时设置了 <code>p-4</code> 和 <code>p-2</code>），它能确保最后只有一个“胜利”的类（<code>p-2</code>）被应用。</p> <h3 id="工作机制-4"><a href="#工作机制-4" class="header-anchor">#</a> 工作机制</h3> <ul><li><strong>理解 Tailwind：</strong> 它不像 <code>clsx</code> 那样只是简单地拼接字符串。<code>tailwind-merge</code> (简称 <code>twMerge</code>) 内部有一套逻辑，它“理解”Tailwind 的所有功能类。</li> <li><strong>冲突解析：</strong> 它知道 <code>p-2</code> 和 <code>p-4</code> 都属于 <code>padding</code> 类别，并且后出现的会覆盖先出现的。它也知道 <code>px-4</code>（水平 padding）和 <code>p-4</code>（所有方向 padding）之间的关系。</li> <li><strong>智能去重：</strong> 当你传入 <code>flex flex-col flex</code> 时，它会返回 <code>flex-col</code>（<code>flex</code> 被 <code>flex-col</code> 覆盖了）。</li> <li><strong>最后生效原则：</strong> 在合并过程中，<strong>写在最后（或最右边）</strong> 的冲突类会“获胜”。</li></ul> <h3 id="为什么需要它-它与-clsx-的区别"><a href="#为什么需要它-它与-clsx-的区别" class="header-anchor">#</a> 为什么需要它？（它与 <code>clsx</code> 的区别）</h3> <p>假设你有一个可复用的 <code>Button</code> 组件，它有一个默认的 <code>padding</code>，但允许外部传入 <code>props</code> 来覆盖它：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 你的组件</span>
<span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> className<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 基础样式是 'px-4 py-2'</span>
  <span class="token comment">// 外部传入 className 可能是 'px-6'</span>
  <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">px-4 py-2 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>className<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 传统拼接</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>classes<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用组件</span>
<span class="token operator">&lt;</span>Button className<span class="token operator">=</span><span class="token string">&quot;px-6&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// =&gt; 最终的 class 是 &quot;px-4 py-2 px-6&quot;</span>
</code></pre></div><p><strong>问题来了：</strong> 浏览器 CSS 会同时应用 <code>px-4</code> 和 <code>px-6</code>。由于它们在 CSS 文件中的定义顺序（都是原子类，特异性相同），最终哪个生效是不确定的（通常是 <code>px-6</code> 生效，但 <code>py-2</code> 仍然在）。</p> <p><strong>如果只用 clsx：</strong></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token function">clsx</span><span class="token punctuation">(</span><span class="token string">'px-4 py-2'</span><span class="token punctuation">,</span> className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;px-4 py-2 px-6&quot; (clsx 只是拼接，不解决冲突)</span>
</code></pre></div><p><strong>如果使用 tailwind-merge：</strong></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> twMerge <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'tailwind-merge'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token function">twMerge</span><span class="token punctuation">(</span><span class="token string">'px-4 py-2'</span><span class="token punctuation">,</span> className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// className 是 &quot;px-6&quot;</span>
<span class="token comment">// =&gt; &quot;py-2 px-6&quot;</span>
</code></pre></div><p><code>twMerge</code> 知道 <code>px-6</code> 是用来覆盖 <code>px-4</code> 的，所以它保留了 <code>px-6</code> 并丢弃了 <code>px-4</code>，同时保留了不冲突的 <code>py-2</code>。</p> <h3 id="优点-4"><a href="#优点-4" class="header-anchor">#</a> 优点</h3> <ul><li><strong>解决动态覆盖问题：</strong> 完美解决了在封装 React/Vue 组件时，基础样式和外部传入 <code>props</code> 样式之间的冲突。</li> <li><strong>保持 className 干净：</strong> 最终生成的 <code>class</code> 字符串是最小化的，没有冗余和冲突的类，便于调试。</li> <li><strong>与 clsx 完美组合：</strong> <code>tailwind-merge</code> 的设计就是用来包裹 <code>clsx</code> 的。</li></ul> <h3 id="关键点-陷阱-4"><a href="#关键点-陷阱-4" class="header-anchor">#</a> 关键点/陷阱</h3> <ul><li><p><strong>它不是 clsx：</strong> <code>clsx</code> 负责“条件判断”（<code>{ 'class-a': true }</code>），<code>twMerge</code> 负责“冲突解决”。它们的目的不同。</p></li> <li><p><strong>黄金组合 (twMerge + clsx)：</strong> 在实际项目中，你总是会<strong>同时使用它们</strong>。你先用 <code>clsx</code> 根据条件生成一个（可能冲突的）字符串，然后把这个字符串交给 <code>twMerge</code> 去“清洗”。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> twMerge <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'tailwind-merge'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> clsx <span class="token keyword">from</span> <span class="token string">'clsx'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">cn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>inputs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">twMerge</span><span class="token punctuation">(</span><span class="token function">clsx</span><span class="token punctuation">(</span>inputs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ---</span>

<span class="token comment">// 基础样式 'bg-blue-500'</span>
<span class="token comment">// 外部传入 props.variant === 'danger'</span>
<span class="token function">cn</span><span class="token punctuation">(</span>
  <span class="token string">'bg-blue-500 p-4'</span><span class="token punctuation">,</span> <span class="token comment">// 基础</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">'bg-red-500'</span><span class="token operator">:</span> props<span class="token punctuation">.</span>variant <span class="token operator">===</span> <span class="token string">'danger'</span> <span class="token comment">// 条件覆盖</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// clsx 会输出: &quot;bg-blue-500 p-4 bg-red-500&quot;</span>
<span class="token comment">// twMerge 会清洗为: &quot;p-4 bg-red-500&quot; (bg-red-500 获胜)</span>
</code></pre></div></li> <li><p><strong>配置感知：</strong> 如果你自定义了 Tailwind（<code>tailwind.config.js</code>），比如添加了 <code>spacing</code> 值。<code>tailwind-merge</code> 默认可能不认识你的自定义类。你需要配置它，让它读取你的 Tailwind 配置，以便正确解析冲突。</p></li> <li><p><strong>轻微性能开销：</strong> 它需要做很多</p></li></ul> <h2 id="websocket"><a href="#websocket" class="header-anchor">#</a> websocket</h2> <h3 id="_1-核心思想"><a href="#_1-核心思想" class="header-anchor">#</a> 1. 核心思想</h3> <p>WebSocket 的核心思想是**“全双工的持久通信”**。</p> <p>简单来说，它就像是在浏览器和服务器之间建立了一条<strong>专属的连接</strong>。一旦连接上，双方（客户端和服务端）<strong>都可以随时、主动地</strong>给对方发送数据，而不需要像 HTTP 那样每次都“重新拨号”（发起请求）。它的目的就是为了实现真正的实时双向通信。</p> <h3 id="_2-工作机制"><a href="#_2-工作机制" class="header-anchor">#</a> 2. 工作机制</h3> <p>它的工作机制分两步走：</p> <ol><li><p><strong>“握手” (Handshake)</strong>：</p> <ul><li>连接开始时，客户端会先发起一个<strong>特殊的 HTTP 请求</strong>。这个请求包含一个 <code>Upgrade: websocket</code> 的请求头，意思是：“你好服务器，我们能把这个 HTTP 连接升级成 WebSocket 连接吗？”</li></ul> <ol><li><strong>“切换协议”</strong>：</li></ol> <ul><li>服务器如果同意升级，就会返回一个 101（Switching Protocols）状态码。</li> <li>从这一刻起，这条连接就从 HTTP 协议切换到了 WebSocket 协议（<code>ws://</code> 或 <code>wss://</code>），变成了一条持久的双向通道。</li></ul></li></ol> <p>之后，双方就可以通过 <code>send()</code> 方法发送数据，并通过 <code>onmessage</code> 事件来接收对方发来的数据，直到任意一方调用 <code>close()</code> 关闭连接。</p> <h3 id="_3-优点"><a href="#_3-优点" class="header-anchor">#</a> 3. 优点</h3> <p>我认为 WebSocket 最大的优点有三个：</p> <ol><li><strong>真正的双向通信（全双工）</strong>：客户端和服务端地位平等，都可以主动发起通信。这对于聊天室、在线游戏这种场景是刚需。</li> <li><strong>低延迟、高性能</strong>：连接一旦建立，后续的数据交换都非常轻量，不需要重复发送笨重的 HTTP 头部信息，所以网络开销极小，延迟非常低。</li> <li><strong>实时性强</strong>：服务器可以<strong>主动推送 (Push)</strong> 数据给客户端，而不需要客户端轮询，实时性非常高。</li></ol> <h3 id="_4-缺点"><a href="#_4-缺点" class="header-anchor">#</a> 4. 缺点</h3> <p>它也有几个比较明显的缺点：</p> <ol><li><strong>服务器资源消耗</strong>：每个 WebSocket 连接都需要在服务器上保持一个<strong>持久打开</strong>的状态。如果并发连接数非常多（比如百万级），这对服务器的内存和管理能力是个不小的挑战。</li> <li><strong>没有自动重连</strong>：不像 SSE，WebSocket 在连接意外断开（比如网络切换）时，规范本身<strong>不支持自动重连</strong>。我们必须在应用层（JS 里）自己实现心跳检测和断线重连逻辑，这增加了开发的复杂度。</li> <li><strong>兼容性问题</strong>：在一些比较老旧的浏览器或特定的网络防火墙、代理环境下，可能不支持或会限制 WebSocket 连接。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/jiabinxu-blog/assets/js/app.f81cf313.js" defer></script><script src="/jiabinxu-blog/assets/js/3.bb87b8ff.js" defer></script><script src="/jiabinxu-blog/assets/js/2.180c3171.js" defer></script><script src="/jiabinxu-blog/assets/js/74.3329104a.js" defer></script>
  </body>
</html>
